#include "../shared.h"

struct Lod_params {
  struct Lod_brush_params {
    float4 brush_uv[4];
    float base_radius;
    float radius_variation;
    float radius_random;
    float blur;
    float alpha;
    float stretch;
  } brushes;
  struct Lod_noise_params {
    float chaos;
    float freq;
    float brightness;
    float saturation;
    float hue;
  } noise;
  struct Lod_outlines_params {
    float2 thickness;
    float2 softness;
    float2 displacement;
    float2 attenuation;
    float lighting_threshold;
    float lighting_threshold_softness;
    float2 lighting_dark;
    float2 lighting_bright;
    float2 discretion;
    float2 alpha;
  } outlines;
};

struct Frame_constants {
  float3 cam_world_pos;
  float time;
  float2 inv_near_dim;
  float proj_scale;
  uint flags;
  float2 half_vp_dim;
  int2 vp_dim;
  float2 vp_texel_size;
  int2 mouse_pos;
  int2 inspected_pix;
  int2 hi_z_0_dim;
  int supersampling;
  int debug_patches;
  int use_patches;
  int emissive;
  float3 target;
  uint frame_number;
  uint shot_frame_number;
  float dt;
  float4 view_to_world[4];
  float4 world_to_view[4];
  float4 view_ndc[4];
  float4 world_ndc[4];
  float4 prev_world_ndc[4];
  float4 ndc_world[4];
  float4 ndc_to_prev_ndc[4];
  float4 prev_ndc_to_ndc[4];
  float4 view_world_z0;
  float4 pix_to_fog_eq;
  float3 mio_view;
  float3 mio_hair_outline_color;
  float mio_foliage_velocity;
  int show_wireframe;
  int ao;
  int glitch;
  int no_vertex_color;
  float paper_mult;
  int hatching;
  int mio_halo;
  int vol_temporal;
  int heart_attack_active;
  int heart_attack_secondary_target;
  int triangular_dissolve_enabled;
  int color_correct;
  float starfield_effect_amount;
  float starfield_fade_amount;
  float3 starfield_center_view;
  float starfield_glow_amount;
  float starfield_pulse_t;
  float death_anim_t;
  float3 game_plane_world_origin;
  float3 game_plane_world_normal;
  float3 game_plane_world_u;
  float3 game_plane_world_v;
  float4 game_plane_transform[4];
  float4 hatching_xf[4];
  float4 paper_xf[4];
  float2 game_plane_blend;
  float heart_attack_t;
  float heart_attack_duration;
  float heart_attack_pulse;
  float heart_attack_outline_distance;
  float heart_attack_dissolve_distance;
  float3 heart_attack_dissolve_color;
  float heart_attack_dissolve_base;
  float heart_attack_dissolve_mult;
  float3 heart_attack_dissolve_world_center;
  float heart_attack_vertical_dissolve;
  float triangular_dissolve_base_amount;
  float triangular_dissolve_amount;
  float flashback_lut;
  float evil_mio;
  float dead_mio;
  float godlike_mio;
  float khlia_pulse_t;
  float khlia__pulse_t;
  float khlia_pulse_period;
  float3 khlia_world_pos;
  float skydome_rotation_offset;
  float hatch_ambiant_mul;
  float hatch_ambiant_add;
  float glitch_scale;
  uint max_contours;
  uint max_contour_loops;
  int death_screen;
  float death_screen_t;
  int poetic_death_screen;
  float poetic_death_screen_t;
  float tremor_pulse_t;
  int invert;
  float surface_fade;
  struct Postprocess_params {
    struct AO_params {
      float3 color;
      float intensity;
    } ao;
    struct Fog_params {
      float bloom_factor;
      float space;
      float outline_density;
      float outline_attenuation;
    } fog;
    struct Ambient_light_params {
      int undercoat_grad;
      float3 color;
      float intensity;
      float gameplay_intensity;
      float gameplay_width;
      float directional_intensity;
      float directional_shadows;
      float undercoat_noise_freq;
      float undercoat_noise_amplitude;
      float undercoat_noise_threshold;
      float undercoating;
    } ambient_light;
    struct Vignette_params {
      float intensity;
      float rounded;
      float3 color;
      float golden_intensity;
      float golden_color;
    } vignette;
    struct Bloom_params {
      float intensity;
      float threshold_low;
      float threshold_high;
    } bloom;
    struct Mio_params {
      float light_intensity;
      float light_radius;
      float3 light_color;
      float spec_intensity;
      float3 halo_color;
      float halo_intensity;
    } mio;
    struct Particles_params {
      uint count;
      float cam_near;
      float cam_far;
      float fadeoff_near;
      float2 lifetime;
      float fadein_duration;
      float fadeoff_duration;
      float2 alpha;
      float2 scale;
      float2 speed;
      int gradient;
      float circle_attenuation;
    } particles;
    struct Chroma_aberration_params {
      float intensity;
    } chroma_aberration;
    struct Fade_params {
      float intensity;
      float3 color;
    } fade;
    struct Dof_params {
      float plane_01;
      float plane_01_softness;
      float plane_12;
      float plane_12_softness;
      float foreground;
      float foreground_softness;
    } dof;
    Lod_params lod_foreground;
    Lod_params lod_game;
    Lod_params lod_midground;
    Lod_params lod_background;
  } params;
};


Texture2D<float4> tex : register(t0);

Texture2D<float> depth_tex : register(t1);

Texture2D<float> paper_tex : register(t5);

Texture2D<float3> bloom_tex : register(t7);

cbuffer frame_consts : register(b0) {
  Frame_constants frame_consts : packoffset(c000.x);
};

SamplerState sampler_nearest : register(s0);

SamplerState sampler_bilinear : register(s1);

SamplerState sampler_bilinear_wrap : register(s2);

float4 main(
  noperspective float4 SV_Position : SV_Position,
  linear float2 O_Uv : O_Uv
) : SV_Target {
  float4 SV_Target;
  float _14 = float((int)(frame_consts.vp_dim.x));
  float _15 = float((int)(frame_consts.vp_dim.y));
  float _47;
  float _48;
  float _49;
  float _50;
  float _213;
  float _224;
  float _235;
  float _258;
  float _259;
  float _260;
  float _377;
  float _378;
  float _379;
  float _420;
  float _421;
  float _422;
  float _571;
  float _572;
  float _573;
  float _581;
  float _1849;
  float _1850;
  float _1851;
  float _1860;
  float _1861;
  float _1862;
  if (frame_consts.params.chroma_aberration.intensity > 0.0f) {
    float _22 = abs(O_Uv.x + -0.5f);
    float _23 = abs(O_Uv.y + -0.5f);
    float _27 = (rsqrt(dot(float2(_22, _23), float2(_22, _23))) * 0.009999999776482582f) * frame_consts.params.chroma_aberration.intensity;
    float _28 = _27 * _22;
    float _29 = _27 * _23;
    float4 _32 = tex.SampleLevel(sampler_nearest, float2((_28 + O_Uv.x), (_29 + O_Uv.y)), 0.0f);
    float4 _34 = tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
    float4 _38 = tex.SampleLevel(sampler_nearest, float2((O_Uv.x - _28), (O_Uv.y - _29)), 0.0f);
    _47 = _32.x;
    _48 = _34.y;
    _49 = _38.z;
    _50 = 0.5f;
  } else {
    float4 _41 = tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
    _47 = _41.x;
    _48 = _41.y;
    _49 = _41.z;
    _50 = _41.w;
  }
  float3 untonemapped = float3(_47, _48, _49);

  float3 _51 = bloom_tex.SampleLevel(sampler_bilinear, float2(O_Uv.x, O_Uv.y), 0.0f);
  float _66 = max((((1.0f - (_47 * 0.2125999927520752f)) - (_48 * 0.7152000069618225f)) - (_49 * 0.0722000002861023f)), 0.0010000000474974513f);
  float _70 = (_47 / _66) + (frame_consts.params.bloom.intensity * _51.x);
  float _71 = (_48 / _66) + (frame_consts.params.bloom.intensity * _51.y);
  float _72 = (_49 / _66) + (frame_consts.params.bloom.intensity * _51.z);
  float _78 = (((_70 * 0.2125999927520752f) + 1.0f) + (_71 * 0.7152000069618225f)) + (_72 * 0.0722000002861023f);
  float _82 = saturate(_70 / _78);
  float _83 = saturate(_71 / _78);
  float _84 = saturate(_72 / _78);
  if (!(frame_consts.glitch == 0)) {
    float _92 = float((int)(int((_14 / _15) * 1080.0f)));
    float _93 = _92 * O_Uv.x;
    float _94 = O_Uv.y * 1080.0f;
    float _95 = _92 * 0.5f;
    float _98 = max(frame_consts.khlia_pulse_t, 0.0f);
    float _105 = max((frame_consts.khlia_pulse_t + -0.30000001192092896f), 0.0f);
    float _111 = ((_105 * 3.0f) * exp2(1.4426950216293335f - (_105 * 4.328084945678711f))) + ((_98 * 5.0f) * exp2(1.4426950216293335f - (_98 * 7.213475227355957f)));
    float _112 = _111 * 15.0f;
    float _113 = _112 + 30.0f;
    float _115 = (_111 * 20.0f) + 80.0f;
    float _119 = abs(_92 * (O_Uv.x + -0.5f));
    float _120 = abs(_94 + -540.0f);
    float _123 = ((_119 - _95) + _113) + _115;
    float _126 = ((_120 + -510.0f) + _112) + _115;
    float _129 = max(_123, 0.0f);
    float _130 = max(_126, 0.0f);
    float _144 = _119 - (_95 - _113);
    float _145 = _120 - (510.0f - _112);
    float _146 = max(_144, 0.0f);
    float _147 = max(_145, 0.0f);
    float _163 = max(max(0.0f, (1.0f - saturate(abs((min(max(_123, _126), 0.0f) - _115) + sqrt((_130 * _130) + (_129 * _129))) + -0.5f))), ((1.0f - saturate(abs(min(max(_144, _145), 0.0f) + sqrt((_147 * _147) + (_146 * _146))) + -0.5f)) * (1.0f - saturate(_111 * 1.6666666269302368f))));
    float _174 = frac((_93 + _94) * 0.0012499999720603228f) + -0.5f;
    float _175 = frac((_94 - _93) * 0.0012499999720603228f) + -0.5f;
    float _187 = saturate((sin((((_93 * 0.0003124999930150807f) + (O_Uv.y * 0.3375000059604645f)) * 20.0f) - (frame_consts.time * 0.8500000238418579f)) * 1.2500001192092896f) + -0.25000008940696716f);
    float _191 = (_187 * _187) * (3.0f - (_187 * 2.0f));
    float _193 = saturate(sqrt((_175 * _175) + (_174 * _174)) * 2.0f);
    float _198 = _191 * 0.20000000298023224f;
    float _200 = ((_193 * 0.12156862020492554f) + 0.7450979948043823f) + _198;
    float _201 = ((_193 * 0.3333333134651184f) + 0.34117645025253296f) + _198;
    do {
      if (!(!((_198 + 0.9803921580314636f) <= 0.040449999272823334f))) {
        _213 = ((_191 * 0.015479876659810543f) + 0.07588174939155579f);
      } else {
        _213 = exp2(log2((_191 * 0.18957345187664032f) + 0.9814143776893616f) * 2.4000000953674316f);
      }
      do {
        if (!(!(_200 <= 0.040449999272823334f))) {
          _224 = (_200 * 0.07739938050508499f);
        } else {
          _224 = exp2(log2((_200 + 0.054999999701976776f) * 0.9478672742843628f) * 2.4000000953674316f);
        }
        do {
          if (!(!(_201 <= 0.040449999272823334f))) {
            _235 = (_201 * 0.07739938050508499f);
          } else {
            _235 = exp2(log2((_201 + 0.054999999701976776f) * 0.9478672742843628f) * 2.4000000953674316f);
          }
          float _241 = (((_213 * 0.2125999927520752f) + 1.0f) + (_224 * 0.7152000069618225f)) + (_235 * 0.0722000002861023f);
          _258 = (((saturate(_213 / _241) - _82) * _163) + _82);
          _259 = (((saturate(_224 / _241) - _83) * _163) + _83);
          _260 = (((saturate(_235 / _241) - _84) * _163) + _84);
        } while (false);
      } while (false);
    } while (false);
  } else {
    _258 = _82;
    _259 = _83;
    _260 = _84;
  }
  float _266 = depth_tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
  float _270 = 10000.0f / ((_266.x * 19999.5f) + 0.5f);
  float _275 = (_270 * ((O_Uv.x * 2.0f) + -1.0f)) * frame_consts.inv_near_dim.x;
  float _277 = (_270 * (((1.0f - O_Uv.y) * 2.0f) + -1.0f)) * frame_consts.inv_near_dim.y;
  float _278 = -0.0f - _270;
  float _302 = mad((frame_consts.paper_xf[2].z), _278, mad((frame_consts.paper_xf[1].z), _277, (_275 * (frame_consts.paper_xf[0].z))));
  float _303 = mad((frame_consts.paper_xf[2].x), _278, mad((frame_consts.paper_xf[1].x), _277, (_275 * (frame_consts.paper_xf[0].x)))) / _302;
  float _304 = mad((frame_consts.paper_xf[2].y), _278, mad((frame_consts.paper_xf[1].y), _277, (_275 * (frame_consts.paper_xf[0].y)))) / _302;
  float _311 = log2(max(5.0f, (-0.0f - (_302 - frame_consts.game_plane_blend.x)))) * 10.0f;
  float _312 = floor(_311);
  float _313 = _311 - _312;
  float _315 = exp2(_312 * 0.10000000149011612f);
  float _316 = 1.0f / _315;
  float _317 = min(_316, 0.20000000298023224f);
  float _319 = min((_316 * 0.9330329895019531f), 0.20000000298023224f);
  float _320 = frame_consts.game_plane_blend.x - _315;
  float _326 = frame_consts.game_plane_blend.x - (_315 * 1.0717734098434448f);
  float _336 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_320 * _303) + (frame_consts.paper_xf[3].x)) * _317), (((_320 * _304) + (frame_consts.paper_xf[3].y)) * _317)), 0.0f);
  float _339 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_326 * _303) + (frame_consts.paper_xf[3].x)) * _319), (((_326 * _304) + (frame_consts.paper_xf[3].y)) * _319)), 0.0f);
  float _346 = ((1.0f - (_336.x * (1.0f - _313))) - (_339.x * _313)) * frame_consts.paper_mult;
  float _350 = _258 - (_346 * _258);
  float _351 = _259 - (_346 * _259);
  float _352 = _260 - (_346 * _260);
  if (!(frame_consts.death_screen == 0)) {
    float _375 = select((frame_consts.death_screen_t <= 0.019999999552965164f), (1.0f - _50), _50);
    _377 = _375;
    _378 = _375;
    _379 = _375;
  } else {
    _377 = (lerp(_350, frame_consts.params.fade.color.x, frame_consts.params.fade.intensity));
    _378 = (lerp(_351, frame_consts.params.fade.color.y, frame_consts.params.fade.intensity));
    _379 = (lerp(_352, frame_consts.params.fade.color.z, frame_consts.params.fade.intensity));
  }
  if (!(frame_consts.triangular_dissolve_enabled == 0)) {
    float _387 = _14 * O_Uv.x;
    float _388 = _15 * O_Uv.y;
    float _389 = _387 * 0.06666667014360428f;
    float _390 = _388 * 0.038490019738674164f;
    float _392 = ceil(_389 - _390);
    float _394 = floor(_388 * 0.07698003947734833f);
    float _395 = _394 + 1.0f;
    float _398 = ceil((-0.0f - _389) - _390);
    float _400 = (_392 - _398) * 7.5f;
    float _401 = _392 * 0.28867512941360474f;
    float _402 = _395 * 0.5773502588272095f;
    float _403 = _402 - _401;
    float _404 = _398 * 0.28867512941360474f;
    float _407 = _400 / _14;
    float _408 = ((_403 - _404) * 15.0f) / _15;
    do {
      if (((_395 + _392) + _398) == 2.0f) {
        _420 = (_392 + 1.0f);
        _421 = (_394 + 2.0f);
        _422 = (_398 + 1.0f);
      } else {
        _420 = (_392 + -1.0f);
        _421 = _394;
        _422 = (_398 + -1.0f);
      }
      float _423 = _420 - _398;
      float _426 = _402 - (_420 * 0.28867512941360474f);
      float _427 = _426 - _404;
      float _430 = (_421 * 0.5773502588272095f) - _401;
      float _431 = _430 - _404;
      float _433 = _392 - _422;
      float _436 = _403 - (_422 * 0.28867512941360474f);
      float _440 = (_426 - _430) * 15.0f;
      float _441 = (_420 - _392) * -7.5f;
      float _443 = rsqrt(dot(float2(_440, _441), float2(_440, _441)));
      float _452 = (_431 - _436) * 15.0f;
      float _453 = (_422 - _398) * -7.5f;
      float _455 = rsqrt(dot(float2(_452, _453), float2(_452, _453)));
      float _464 = (_436 - _427) * 15.0f;
      float _465 = (_433 - _423) * -7.5f;
      float _467 = rsqrt(dot(float2(_464, _465), float2(_464, _465)));
      float _480 = _407 + -0.5f;
      float _481 = _408 + -0.5f;
      float _528 = O_Uv.x + -0.5f;
      float _529 = O_Uv.y + -0.5f;
      float _536 = ((frame_consts.time - sqrt((_529 * _529) + (_528 * _528))) + (frac(sin(dot(float2((_407 * 5.0f), (_408 * 5.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.20000000298023224f)) * 0.0555555559694767f;
      float _540 = frac(abs(_536));
      float _544 = max((select((_536 >= (-0.0f - _536)), _540, (-0.0f - _540)) * 18.0f), 0.0f);
      float _560 = min(max((1.0f - (((((_544 * 1.600000023841858f) * exp2(1.4426950216293335f - (_544 * 11.541560173034668f))) + (saturate((((frame_consts.triangular_dissolve_amount + -0.6499999761581421f) + (sqrt((_481 * _481) + (_480 * _480)) * 1.4142135381698608f)) + (frac(sin(dot(float2((_407 * 3.0f), (_408 * 3.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.10000000149011612f)) * 4.0f) * ((frame_consts.triangular_dissolve_amount * 4.0f) + 1.0f))) * frame_consts.triangular_dissolve_base_amount) * ((saturate((sin((frac(sin(dot(float2(_407, _408), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 5.0f) + ((frame_consts.time * 1.7999999523162842f) * ((frac(sin(dot(float2((_407 * 2.0f), (_408 * 2.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.10000000149011612f) + 1.0f))) + 1.0f) * 0.5f) * 0.75f) + 0.25f))), 0.0f), 1.0f);
      float _566 = 1.0f - saturate(((1.0f - saturate(min(min(min(1000.0f, abs(dot(float2(((_423 * 7.5f) - _387), ((_427 * 15.0f) - _388)), float2((_440 * _443), (_443 * _441))))), abs(dot(float2((_400 - _387), ((_431 * 15.0f) - _388)), float2((_455 * _452), (_455 * _453))))), abs(dot(float2(((_433 * 7.5f) - _387), ((_436 * 15.0f) - _388)), float2((_467 * _464), (_467 * _465))))) * 0.2309400886297226f)) - _560) / ((_560 * 0.10000002384185791f) + 9.999999974752427e-07f));
      _571 = (_566 * _377);
      _572 = (_566 * _378);
      _573 = (_566 * _379);
    } while (false);
  } else {
    _571 = _377;
    _572 = _378;
    _573 = _379;
  }
  if (!(frame_consts.heart_attack_active == 0)) {
    _581 = (frame_consts.heart_attack_pulse * 0.10000000149011612f);
  } else {
    _581 = 0.0f;
  }
  float _588 = frame_consts.params.vignette.intensity + _581;
  float _591 = _14 / _15;
  float _603 = exp2(log2(saturate((_588 * abs(O_Uv.x + -0.5f)) * (((_591 + -1.0f) * frame_consts.params.vignette.rounded) + 1.0f))) * 5.0f);
  float _604 = exp2(log2(saturate(_588 * abs(O_Uv.y + -0.5f))) * 5.0f);
  float _610 = exp2(log2(saturate(1.0f - dot(float2(_603, _604), float2(_603, _604)))) * 6.0f);
  float _615 = 1.0f - _610;
  float _617 = 1.0f - (_615 * 0.8500000238418579f);
  float _624 = (_617 * (_571 - frame_consts.params.vignette.color.x)) + frame_consts.params.vignette.color.x;
  float _625 = (_617 * (_572 - frame_consts.params.vignette.color.y)) + frame_consts.params.vignette.color.y;
  float _626 = (_617 * (_573 - frame_consts.params.vignette.color.z)) + frame_consts.params.vignette.color.z;
  float _630 = _14 * O_Uv.x;
  float _631 = _15 * O_Uv.y;
  float _632 = _630 + _631;
  float _638 = frac(_632 * 0.0033333334140479565f) + -0.5f;
  float _639 = frac((_631 - _630) * 0.0033333334140479565f) + -0.5f;
  float _645 = saturate(sqrt((_639 * _639) + (_638 * _638)) * 2.0f);
  float _656 = saturate((sin((_632 * 0.01666666753590107f) - (frame_consts.time * 0.8500000238418579f)) * 1.2500001192092896f) + -0.25000008940696716f);
  float _661 = ((_656 * _656) * 0.2199999988079071f) * (3.0f - (_656 * 2.0f));
  float _662 = _661 + 0.9777389168739319f;
  float _663 = ((_645 * 0.13274884223937988f) + 0.7175776362419128f) + _661;
  float _664 = ((_645 * 0.3335757553577423f) + 0.30871906876564026f) + _661;
  float _669 = (O_Uv.x * 1080.0f) * _591;
  float _670 = O_Uv.y * 1080.0f;
  float _671 = _669 * 0.04444444552063942f;
  float _672 = O_Uv.y * 27.712812423706055f;
  float _674 = ceil(_671 - _672);
  float _677 = floor(O_Uv.y * 55.42562484741211f) + 1.0f;
  float _680 = ceil((-0.0f - _672) - _671);
  float _682 = (_677 + _674) + _680;
  float _684 = (_682 * 22.5f) + -33.75f;
  float _685 = _674 - _680;
  float _687 = _685 * 11.25f;
  float _693 = (((_677 * 0.5773502588272095f) - (_674 * 0.28867512941360474f)) - (_680 * 0.28867512941360474f)) * 22.5f;
  float _696 = _684 + _687;
  float _697 = _693 + (19.485570907592773f - (_682 * 12.990381240844727f));
  float _700 = ((_682 * 25.980762481689453f) + -38.97114181518555f) + _693;
  float _701 = _687 - _684;
  float _702 = _696 - _669;
  float _703 = _697 - _670;
  float _706 = _687 - _669;
  float _707 = _700 - _670;
  float _712 = _703 * _703;
  float _719 = _701 - _669;
  float _723 = _697 * 2.5f;
  float _724 = frame_consts.time * 1.5f;
  float _728 = _697 * 0.004444444552063942f;
  float _729 = frame_consts.time * 0.15000000596046448f;
  float _730 = (_696 * 0.04444444552063942f) - _729;
  float _731 = _728 - _729;
  float _732 = frame_consts.time * 0.02500000037252903f;
  float _733 = dot(float3(_730, _731, _732), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _737 = floor(_733 + _730);
  float _738 = floor(_733 + _731);
  float _739 = floor(_733 + _732);
  float _743 = dot(float3(_737, _738, _739), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _744 = _743 + (_730 - _737);
  float _745 = _743 + (_731 - _738);
  float _746 = (_732 - _739) + _743;
  float _750 = select((_744 < _745), 0.0f, 1.0f);
  float _751 = select((_745 < _746), 0.0f, 1.0f);
  float _752 = select((_746 < _744), 0.0f, 1.0f);
  float _753 = 1.0f - _750;
  float _754 = 1.0f - _751;
  float _755 = 1.0f - _752;
  float _756 = min(_750, _755);
  float _757 = min(_751, _753);
  float _758 = min(_752, _754);
  float _759 = max(_750, _755);
  float _760 = max(_751, _753);
  float _761 = max(_752, _754);
  float _765 = (_744 - _756) + 0.1666666716337204f;
  float _766 = (_745 - _757) + 0.1666666716337204f;
  float _767 = (_746 - _758) + 0.1666666716337204f;
  float _771 = (_744 - _759) + 0.3333333432674408f;
  float _772 = (_745 - _760) + 0.3333333432674408f;
  float _773 = (_746 - _761) + 0.3333333432674408f;
  float _774 = _744 + -0.5f;
  float _775 = _745 + -0.5f;
  float _776 = _746 + -0.5f;
  float _786 = _737 - (floor(_737 * 0.0034602077212184668f) * 289.0f);
  float _787 = _738 - (floor(_738 * 0.0034602077212184668f) * 289.0f);
  float _788 = _739 - (floor(_739 * 0.0034602077212184668f) * 289.0f);
  float _789 = _788 + _758;
  float _790 = _788 + _761;
  float _791 = _788 + 1.0f;
  float _800 = ((_788 * 34.0f) + 1.0f) * _788;
  float _801 = ((_789 * 34.0f) + 1.0f) * _789;
  float _802 = ((_790 * 34.0f) + 1.0f) * _790;
  float _803 = ((_791 * 34.0f) + 1.0f) * _791;
  float _817 = (_800 - (floor(_800 * 0.0034602077212184668f) * 289.0f)) + _787;
  float _820 = ((_787 + _757) - (floor(_801 * 0.0034602077212184668f) * 289.0f)) + _801;
  float _823 = ((_787 + _760) - (floor(_802 * 0.0034602077212184668f) * 289.0f)) + _802;
  float _826 = ((_787 + 1.0f) - (floor(_803 * 0.0034602077212184668f) * 289.0f)) + _803;
  float _835 = ((_817 * 34.0f) + 1.0f) * _817;
  float _836 = ((_820 * 34.0f) + 1.0f) * _820;
  float _837 = ((_823 * 34.0f) + 1.0f) * _823;
  float _838 = ((_826 * 34.0f) + 1.0f) * _826;
  float _852 = (_835 - (floor(_835 * 0.0034602077212184668f) * 289.0f)) + _786;
  float _855 = ((_786 + _756) - (floor(_836 * 0.0034602077212184668f) * 289.0f)) + _836;
  float _858 = ((_786 + _759) - (floor(_837 * 0.0034602077212184668f) * 289.0f)) + _837;
  float _861 = ((_786 + 1.0f) - (floor(_838 * 0.0034602077212184668f) * 289.0f)) + _838;
  float _870 = ((_852 * 34.0f) + 1.0f) * _852;
  float _871 = ((_855 * 34.0f) + 1.0f) * _855;
  float _872 = ((_858 * 34.0f) + 1.0f) * _858;
  float _873 = ((_861 * 34.0f) + 1.0f) * _861;
  float _886 = _870 - (floor(_870 * 0.0034602077212184668f) * 289.0f);
  float _887 = _871 - (floor(_871 * 0.0034602077212184668f) * 289.0f);
  float _888 = _872 - (floor(_872 * 0.0034602077212184668f) * 289.0f);
  float _889 = _873 - (floor(_873 * 0.0034602077212184668f) * 289.0f);
  float _902 = _886 - (floor(_886 * 0.020408164709806442f) * 49.0f);
  float _903 = _887 - (floor(_887 * 0.020408164709806442f) * 49.0f);
  float _904 = _888 - (floor(_888 * 0.020408164709806442f) * 49.0f);
  float _905 = _889 - (floor(_889 * 0.020408164709806442f) * 49.0f);
  float _910 = floor(_902 * 0.1428571492433548f);
  float _911 = floor(_903 * 0.1428571492433548f);
  float _912 = floor(_904 * 0.1428571492433548f);
  float _913 = floor(_905 * 0.1428571492433548f);
  float _930 = (_910 * 0.2857142984867096f) + -0.9285714030265808f;
  float _931 = (_911 * 0.2857142984867096f) + -0.9285714030265808f;
  float _932 = (_912 * 0.2857142984867096f) + -0.9285714030265808f;
  float _933 = (_913 * 0.2857142984867096f) + -0.9285714030265808f;
  float _938 = (floor(_902 - (_910 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _939 = (floor(_903 - (_911 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _940 = (floor(_904 - (_912 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _941 = (floor(_905 - (_913 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _954 = (1.0f - abs(_930)) - abs(_938);
  float _955 = (1.0f - abs(_931)) - abs(_939);
  float _956 = (1.0f - abs(_932)) - abs(_940);
  float _957 = (1.0f - abs(_933)) - abs(_941);
  float _986 = select((_954 > 0.0f), -0.0f, -1.0f);
  float _987 = select((_955 > 0.0f), -0.0f, -1.0f);
  float _988 = select((_956 > 0.0f), -0.0f, -1.0f);
  float _989 = select((_957 > 0.0f), -0.0f, -1.0f);
  float _994 = (((floor(_930) * 2.0f) + 1.0f) * _986) + _930;
  float _995 = (((floor(_938) * 2.0f) + 1.0f) * _986) + _938;
  float _996 = (((floor(_931) * 2.0f) + 1.0f) * _987) + _931;
  float _997 = (((floor(_939) * 2.0f) + 1.0f) * _987) + _939;
  float _1002 = (((floor(_932) * 2.0f) + 1.0f) * _988) + _932;
  float _1003 = (((floor(_940) * 2.0f) + 1.0f) * _988) + _940;
  float _1004 = (((floor(_933) * 2.0f) + 1.0f) * _989) + _933;
  float _1005 = (((floor(_941) * 2.0f) + 1.0f) * _989) + _941;
  float _1014 = 1.7928400039672852f - (dot(float3(_994, _995, _954), float3(_994, _995, _954)) * 0.8537350296974182f);
  float _1015 = 1.7928400039672852f - (dot(float3(_996, _997, _955), float3(_996, _997, _955)) * 0.8537350296974182f);
  float _1016 = 1.7928400039672852f - (dot(float3(_1002, _1003, _956), float3(_1002, _1003, _956)) * 0.8537350296974182f);
  float _1017 = 1.7928400039672852f - (dot(float3(_1004, _1005, _957), float3(_1004, _1005, _957)) * 0.8537350296974182f);
  float _1038 = max((0.6000000238418579f - dot(float3(_744, _745, _746), float3(_744, _745, _746))), 0.0f);
  float _1039 = max((0.6000000238418579f - dot(float3(_765, _766, _767), float3(_765, _766, _767))), 0.0f);
  float _1040 = max((0.6000000238418579f - dot(float3(_771, _772, _773), float3(_771, _772, _773))), 0.0f);
  float _1041 = max((0.6000000238418579f - dot(float3(_774, _775, _776), float3(_774, _775, _776))), 0.0f);
  float _1042 = _1038 * _1038;
  float _1043 = _1039 * _1039;
  float _1044 = _1040 * _1040;
  float _1045 = _1041 * _1041;
  float _1060 = saturate((((sin(_723 - _724) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1042 * _1042), (_1043 * _1043), (_1044 * _1044), (_1045 * _1045)), float4(dot(float3((_1014 * _994), (_1014 * _995), (_1014 * _954)), float3(_744, _745, _746)), dot(float3((_1015 * _996), (_1015 * _997), (_1015 * _955)), float3(_765, _766, _767)), dot(float3((_1016 * _1002), (_1016 * _1003), (_1016 * _956)), float3(_771, _772, _773)), dot(float3((_1017 * _1004), (_1017 * _1005), (_1017 * _957)), float3(_774, _775, _776)))) * 21.0f)) * 4.0f);
  float _1064 = (_1060 * _1060) * (3.0f - (_1060 * 2.0f));
  float _1066 = (_1064 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1071 = (_685 * 0.5f) - _729;
  float _1072 = (_700 * 0.004444444552063942f) - _729;
  float _1073 = dot(float3(_1071, _1072, _732), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _1077 = floor(_1073 + _1071);
  float _1078 = floor(_1073 + _1072);
  float _1079 = floor(_1073 + _732);
  float _1083 = dot(float3(_1077, _1078, _1079), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _1084 = _1083 + (_1071 - _1077);
  float _1085 = _1083 + (_1072 - _1078);
  float _1086 = (_732 - _1079) + _1083;
  float _1090 = select((_1084 < _1085), 0.0f, 1.0f);
  float _1091 = select((_1085 < _1086), 0.0f, 1.0f);
  float _1092 = select((_1086 < _1084), 0.0f, 1.0f);
  float _1093 = 1.0f - _1090;
  float _1094 = 1.0f - _1091;
  float _1095 = 1.0f - _1092;
  float _1096 = min(_1090, _1095);
  float _1097 = min(_1091, _1093);
  float _1098 = min(_1092, _1094);
  float _1099 = max(_1090, _1095);
  float _1100 = max(_1091, _1093);
  float _1101 = max(_1092, _1094);
  float _1105 = (_1084 - _1096) + 0.1666666716337204f;
  float _1106 = (_1085 - _1097) + 0.1666666716337204f;
  float _1107 = (_1086 - _1098) + 0.1666666716337204f;
  float _1111 = (_1084 - _1099) + 0.3333333432674408f;
  float _1112 = (_1085 - _1100) + 0.3333333432674408f;
  float _1113 = (_1086 - _1101) + 0.3333333432674408f;
  float _1114 = _1084 + -0.5f;
  float _1115 = _1085 + -0.5f;
  float _1116 = _1086 + -0.5f;
  float _1126 = _1077 - (floor(_1077 * 0.0034602077212184668f) * 289.0f);
  float _1127 = _1078 - (floor(_1078 * 0.0034602077212184668f) * 289.0f);
  float _1128 = _1079 - (floor(_1079 * 0.0034602077212184668f) * 289.0f);
  float _1129 = _1128 + _1098;
  float _1130 = _1128 + _1101;
  float _1131 = _1128 + 1.0f;
  float _1140 = ((_1128 * 34.0f) + 1.0f) * _1128;
  float _1141 = ((_1129 * 34.0f) + 1.0f) * _1129;
  float _1142 = ((_1130 * 34.0f) + 1.0f) * _1130;
  float _1143 = ((_1131 * 34.0f) + 1.0f) * _1131;
  float _1157 = (_1140 - (floor(_1140 * 0.0034602077212184668f) * 289.0f)) + _1127;
  float _1160 = ((_1127 + _1097) - (floor(_1141 * 0.0034602077212184668f) * 289.0f)) + _1141;
  float _1163 = ((_1127 + _1100) - (floor(_1142 * 0.0034602077212184668f) * 289.0f)) + _1142;
  float _1166 = ((_1127 + 1.0f) - (floor(_1143 * 0.0034602077212184668f) * 289.0f)) + _1143;
  float _1175 = ((_1157 * 34.0f) + 1.0f) * _1157;
  float _1176 = ((_1160 * 34.0f) + 1.0f) * _1160;
  float _1177 = ((_1163 * 34.0f) + 1.0f) * _1163;
  float _1178 = ((_1166 * 34.0f) + 1.0f) * _1166;
  float _1192 = (_1175 - (floor(_1175 * 0.0034602077212184668f) * 289.0f)) + _1126;
  float _1195 = ((_1126 + _1096) - (floor(_1176 * 0.0034602077212184668f) * 289.0f)) + _1176;
  float _1198 = ((_1126 + _1099) - (floor(_1177 * 0.0034602077212184668f) * 289.0f)) + _1177;
  float _1201 = ((_1126 + 1.0f) - (floor(_1178 * 0.0034602077212184668f) * 289.0f)) + _1178;
  float _1210 = ((_1192 * 34.0f) + 1.0f) * _1192;
  float _1211 = ((_1195 * 34.0f) + 1.0f) * _1195;
  float _1212 = ((_1198 * 34.0f) + 1.0f) * _1198;
  float _1213 = ((_1201 * 34.0f) + 1.0f) * _1201;
  float _1226 = _1210 - (floor(_1210 * 0.0034602077212184668f) * 289.0f);
  float _1227 = _1211 - (floor(_1211 * 0.0034602077212184668f) * 289.0f);
  float _1228 = _1212 - (floor(_1212 * 0.0034602077212184668f) * 289.0f);
  float _1229 = _1213 - (floor(_1213 * 0.0034602077212184668f) * 289.0f);
  float _1242 = _1226 - (floor(_1226 * 0.020408164709806442f) * 49.0f);
  float _1243 = _1227 - (floor(_1227 * 0.020408164709806442f) * 49.0f);
  float _1244 = _1228 - (floor(_1228 * 0.020408164709806442f) * 49.0f);
  float _1245 = _1229 - (floor(_1229 * 0.020408164709806442f) * 49.0f);
  float _1250 = floor(_1242 * 0.1428571492433548f);
  float _1251 = floor(_1243 * 0.1428571492433548f);
  float _1252 = floor(_1244 * 0.1428571492433548f);
  float _1253 = floor(_1245 * 0.1428571492433548f);
  float _1270 = (_1250 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1271 = (_1251 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1272 = (_1252 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1273 = (_1253 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1278 = (floor(_1242 - (_1250 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1279 = (floor(_1243 - (_1251 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1280 = (floor(_1244 - (_1252 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1281 = (floor(_1245 - (_1253 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1294 = (1.0f - abs(_1270)) - abs(_1278);
  float _1295 = (1.0f - abs(_1271)) - abs(_1279);
  float _1296 = (1.0f - abs(_1272)) - abs(_1280);
  float _1297 = (1.0f - abs(_1273)) - abs(_1281);
  float _1326 = select((_1294 > 0.0f), -0.0f, -1.0f);
  float _1327 = select((_1295 > 0.0f), -0.0f, -1.0f);
  float _1328 = select((_1296 > 0.0f), -0.0f, -1.0f);
  float _1329 = select((_1297 > 0.0f), -0.0f, -1.0f);
  float _1334 = (((floor(_1270) * 2.0f) + 1.0f) * _1326) + _1270;
  float _1335 = (((floor(_1278) * 2.0f) + 1.0f) * _1326) + _1278;
  float _1336 = (((floor(_1271) * 2.0f) + 1.0f) * _1327) + _1271;
  float _1337 = (((floor(_1279) * 2.0f) + 1.0f) * _1327) + _1279;
  float _1342 = (((floor(_1272) * 2.0f) + 1.0f) * _1328) + _1272;
  float _1343 = (((floor(_1280) * 2.0f) + 1.0f) * _1328) + _1280;
  float _1344 = (((floor(_1273) * 2.0f) + 1.0f) * _1329) + _1273;
  float _1345 = (((floor(_1281) * 2.0f) + 1.0f) * _1329) + _1281;
  float _1354 = 1.7928400039672852f - (dot(float3(_1334, _1335, _1294), float3(_1334, _1335, _1294)) * 0.8537350296974182f);
  float _1355 = 1.7928400039672852f - (dot(float3(_1336, _1337, _1295), float3(_1336, _1337, _1295)) * 0.8537350296974182f);
  float _1356 = 1.7928400039672852f - (dot(float3(_1342, _1343, _1296), float3(_1342, _1343, _1296)) * 0.8537350296974182f);
  float _1357 = 1.7928400039672852f - (dot(float3(_1344, _1345, _1297), float3(_1344, _1345, _1297)) * 0.8537350296974182f);
  float _1378 = max((0.6000000238418579f - dot(float3(_1084, _1085, _1086), float3(_1084, _1085, _1086))), 0.0f);
  float _1379 = max((0.6000000238418579f - dot(float3(_1105, _1106, _1107), float3(_1105, _1106, _1107))), 0.0f);
  float _1380 = max((0.6000000238418579f - dot(float3(_1111, _1112, _1113), float3(_1111, _1112, _1113))), 0.0f);
  float _1381 = max((0.6000000238418579f - dot(float3(_1114, _1115, _1116), float3(_1114, _1115, _1116))), 0.0f);
  float _1382 = _1378 * _1378;
  float _1383 = _1379 * _1379;
  float _1384 = _1380 * _1380;
  float _1385 = _1381 * _1381;
  float _1400 = saturate((((sin((_700 * 2.5f) - _724) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1382 * _1382), (_1383 * _1383), (_1384 * _1384), (_1385 * _1385)), float4(dot(float3((_1354 * _1334), (_1354 * _1335), (_1354 * _1294)), float3(_1084, _1085, _1086)), dot(float3((_1355 * _1336), (_1355 * _1337), (_1355 * _1295)), float3(_1105, _1106, _1107)), dot(float3((_1356 * _1342), (_1356 * _1343), (_1356 * _1296)), float3(_1111, _1112, _1113)), dot(float3((_1357 * _1344), (_1357 * _1345), (_1357 * _1297)), float3(_1114, _1115, _1116)))) * 21.0f)) * 4.0f);
  float _1404 = (_1400 * _1400) * (3.0f - (_1400 * 2.0f));
  float _1406 = (_1404 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1413 = frame_consts.time * 0.15000000596046448f;
  float _1414 = (_701 * 0.04444444552063942f) - _1413;
  float _1415 = _728 - _1413;
  float _1416 = frame_consts.time * 0.02500000037252903f;
  float _1417 = dot(float3(_1414, _1415, _1416), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _1421 = floor(_1414 + _1417);
  float _1422 = floor(_1415 + _1417);
  float _1423 = floor(_1416 + _1417);
  float _1427 = dot(float3(_1421, _1422, _1423), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _1428 = _1427 + (_1414 - _1421);
  float _1429 = _1427 + (_1415 - _1422);
  float _1430 = (_1416 - _1423) + _1427;
  float _1434 = select((_1428 < _1429), 0.0f, 1.0f);
  float _1435 = select((_1429 < _1430), 0.0f, 1.0f);
  float _1436 = select((_1430 < _1428), 0.0f, 1.0f);
  float _1437 = 1.0f - _1434;
  float _1438 = 1.0f - _1435;
  float _1439 = 1.0f - _1436;
  float _1440 = min(_1434, _1439);
  float _1441 = min(_1435, _1437);
  float _1442 = min(_1436, _1438);
  float _1443 = max(_1434, _1439);
  float _1444 = max(_1435, _1437);
  float _1445 = max(_1436, _1438);
  float _1449 = (_1428 - _1440) + 0.1666666716337204f;
  float _1450 = (_1429 - _1441) + 0.1666666716337204f;
  float _1451 = (_1430 - _1442) + 0.1666666716337204f;
  float _1455 = (_1428 - _1443) + 0.3333333432674408f;
  float _1456 = (_1429 - _1444) + 0.3333333432674408f;
  float _1457 = (_1430 - _1445) + 0.3333333432674408f;
  float _1458 = _1428 + -0.5f;
  float _1459 = _1429 + -0.5f;
  float _1460 = _1430 + -0.5f;
  float _1470 = _1421 - (floor(_1421 * 0.0034602077212184668f) * 289.0f);
  float _1471 = _1422 - (floor(_1422 * 0.0034602077212184668f) * 289.0f);
  float _1472 = _1423 - (floor(_1423 * 0.0034602077212184668f) * 289.0f);
  float _1473 = _1472 + _1442;
  float _1474 = _1472 + _1445;
  float _1475 = _1472 + 1.0f;
  float _1484 = ((_1472 * 34.0f) + 1.0f) * _1472;
  float _1485 = ((_1473 * 34.0f) + 1.0f) * _1473;
  float _1486 = ((_1474 * 34.0f) + 1.0f) * _1474;
  float _1487 = ((_1475 * 34.0f) + 1.0f) * _1475;
  float _1501 = (_1484 - (floor(_1484 * 0.0034602077212184668f) * 289.0f)) + _1471;
  float _1504 = ((_1471 + _1441) - (floor(_1485 * 0.0034602077212184668f) * 289.0f)) + _1485;
  float _1507 = ((_1471 + _1444) - (floor(_1486 * 0.0034602077212184668f) * 289.0f)) + _1486;
  float _1510 = ((_1471 + 1.0f) - (floor(_1487 * 0.0034602077212184668f) * 289.0f)) + _1487;
  float _1519 = ((_1501 * 34.0f) + 1.0f) * _1501;
  float _1520 = ((_1504 * 34.0f) + 1.0f) * _1504;
  float _1521 = ((_1507 * 34.0f) + 1.0f) * _1507;
  float _1522 = ((_1510 * 34.0f) + 1.0f) * _1510;
  float _1536 = (_1519 - (floor(_1519 * 0.0034602077212184668f) * 289.0f)) + _1470;
  float _1539 = ((_1470 + _1440) - (floor(_1520 * 0.0034602077212184668f) * 289.0f)) + _1520;
  float _1542 = ((_1470 + _1443) - (floor(_1521 * 0.0034602077212184668f) * 289.0f)) + _1521;
  float _1545 = ((_1470 + 1.0f) - (floor(_1522 * 0.0034602077212184668f) * 289.0f)) + _1522;
  float _1554 = ((_1536 * 34.0f) + 1.0f) * _1536;
  float _1555 = ((_1539 * 34.0f) + 1.0f) * _1539;
  float _1556 = ((_1542 * 34.0f) + 1.0f) * _1542;
  float _1557 = ((_1545 * 34.0f) + 1.0f) * _1545;
  float _1570 = _1554 - (floor(_1554 * 0.0034602077212184668f) * 289.0f);
  float _1571 = _1555 - (floor(_1555 * 0.0034602077212184668f) * 289.0f);
  float _1572 = _1556 - (floor(_1556 * 0.0034602077212184668f) * 289.0f);
  float _1573 = _1557 - (floor(_1557 * 0.0034602077212184668f) * 289.0f);
  float _1586 = _1570 - (floor(_1570 * 0.020408164709806442f) * 49.0f);
  float _1587 = _1571 - (floor(_1571 * 0.020408164709806442f) * 49.0f);
  float _1588 = _1572 - (floor(_1572 * 0.020408164709806442f) * 49.0f);
  float _1589 = _1573 - (floor(_1573 * 0.020408164709806442f) * 49.0f);
  float _1594 = floor(_1586 * 0.1428571492433548f);
  float _1595 = floor(_1587 * 0.1428571492433548f);
  float _1596 = floor(_1588 * 0.1428571492433548f);
  float _1597 = floor(_1589 * 0.1428571492433548f);
  float _1614 = (_1594 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1615 = (_1595 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1616 = (_1596 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1617 = (_1597 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1622 = (floor(_1586 - (_1594 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1623 = (floor(_1587 - (_1595 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1624 = (floor(_1588 - (_1596 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1625 = (floor(_1589 - (_1597 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1638 = (1.0f - abs(_1614)) - abs(_1622);
  float _1639 = (1.0f - abs(_1615)) - abs(_1623);
  float _1640 = (1.0f - abs(_1616)) - abs(_1624);
  float _1641 = (1.0f - abs(_1617)) - abs(_1625);
  float _1670 = select((_1638 > 0.0f), -0.0f, -1.0f);
  float _1671 = select((_1639 > 0.0f), -0.0f, -1.0f);
  float _1672 = select((_1640 > 0.0f), -0.0f, -1.0f);
  float _1673 = select((_1641 > 0.0f), -0.0f, -1.0f);
  float _1678 = (((floor(_1614) * 2.0f) + 1.0f) * _1670) + _1614;
  float _1679 = (((floor(_1622) * 2.0f) + 1.0f) * _1670) + _1622;
  float _1680 = (((floor(_1615) * 2.0f) + 1.0f) * _1671) + _1615;
  float _1681 = (((floor(_1623) * 2.0f) + 1.0f) * _1671) + _1623;
  float _1686 = (((floor(_1616) * 2.0f) + 1.0f) * _1672) + _1616;
  float _1687 = (((floor(_1624) * 2.0f) + 1.0f) * _1672) + _1624;
  float _1688 = (((floor(_1617) * 2.0f) + 1.0f) * _1673) + _1617;
  float _1689 = (((floor(_1625) * 2.0f) + 1.0f) * _1673) + _1625;
  float _1698 = 1.7928400039672852f - (dot(float3(_1678, _1679, _1638), float3(_1678, _1679, _1638)) * 0.8537350296974182f);
  float _1699 = 1.7928400039672852f - (dot(float3(_1680, _1681, _1639), float3(_1680, _1681, _1639)) * 0.8537350296974182f);
  float _1700 = 1.7928400039672852f - (dot(float3(_1686, _1687, _1640), float3(_1686, _1687, _1640)) * 0.8537350296974182f);
  float _1701 = 1.7928400039672852f - (dot(float3(_1688, _1689, _1641), float3(_1688, _1689, _1641)) * 0.8537350296974182f);
  float _1722 = max((0.6000000238418579f - dot(float3(_1428, _1429, _1430), float3(_1428, _1429, _1430))), 0.0f);
  float _1723 = max((0.6000000238418579f - dot(float3(_1449, _1450, _1451), float3(_1449, _1450, _1451))), 0.0f);
  float _1724 = max((0.6000000238418579f - dot(float3(_1455, _1456, _1457), float3(_1455, _1456, _1457))), 0.0f);
  float _1725 = max((0.6000000238418579f - dot(float3(_1458, _1459, _1460), float3(_1458, _1459, _1460))), 0.0f);
  float _1726 = _1722 * _1722;
  float _1727 = _1723 * _1723;
  float _1728 = _1724 * _1724;
  float _1729 = _1725 * _1725;
  float _1744 = saturate((((sin(_723 - (frame_consts.time * 1.5f)) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1726 * _1726), (_1727 * _1727), (_1728 * _1728), (_1729 * _1729)), float4(dot(float3((_1698 * _1678), (_1698 * _1679), (_1698 * _1638)), float3(_1428, _1429, _1430)), dot(float3((_1699 * _1680), (_1699 * _1681), (_1699 * _1639)), float3(_1449, _1450, _1451)), dot(float3((_1700 * _1686), (_1700 * _1687), (_1700 * _1640)), float3(_1455, _1456, _1457)), dot(float3((_1701 * _1688), (_1701 * _1689), (_1701 * _1641)), float3(_1458, _1459, _1460)))) * 21.0f)) * 4.0f);
  float _1748 = (_1744 * _1744) * (3.0f - (_1744 * 2.0f));
  float _1750 = (_1748 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1772 = saturate(_1066);
  float _1773 = saturate(_1406);
  float _1795 = (((_610 * 1.2000000476837158f) * _615) * frame_consts.params.vignette.golden_intensity) * ((((saturate(11.0f - (sqrt((_707 * _707) + (_706 * _706)) / ((_1404 * 0.039000000804662704f) + 0.08100000768899918f))) * _1406) + (saturate(11.0f - (sqrt((_702 * _702) + _712) / ((_1064 * 0.039000000804662704f) + 0.08100000768899918f))) * _1066)) + (saturate(11.0f - (sqrt((_719 * _719) + _712) / ((_1748 * 0.039000000804662704f) + 0.08100000768899918f))) * _1750)) + (((((saturate(1.0f - (abs(_703) * 0.8333333134651184f)) * _1772) + (saturate(1.0f - (abs(dot(float2(_706, _707), float2(-0.8660253882408142f, 0.5f))) * 0.8333333134651184f)) * _1773)) * saturate(_1750)) + ((_1772 * saturate(1.0f - (abs(dot(float2(_702, _703), float2(0.8660253882408142f, 0.5f))) * 0.8333333134651184f))) * _1773)) * 0.5f));
  float _1802 = (_1795 * ((_662 * _662) - _624)) + _624;
  float _1803 = (_1795 * ((_663 * _663) - _625)) + _625;
  float _1804 = (_1795 * ((_664 * _664) - _626)) + _626;
  if (frame_consts.flashback_lut > 0.0f) {
    float _1813 = ((_1802 * 0.3930000066757202f) + (_1803 * 0.7689999938011169f)) + (_1804 * 0.1889999955892563f);
    float _1818 = ((_1802 * 0.3490000069141388f) + (_1803 * 0.6859999895095825f)) + (_1804 * 0.1679999977350235f);
    float _1823 = ((_1802 * 0.2720000147819519f) + (_1803 * 0.5339999794960022f)) + (_1804 * 0.13099999725818634f);
    float _1824 = frame_consts.flashback_lut * 0.800000011920929f;
    float _1829 = ((_1802 * 0.2125999927520752f) + (_1803 * 0.7152000069618225f)) + (_1804 * 0.0722000002861023f);
    _1849 = ((((_1813 - _1802) + ((_1829 - _1813) * 0.6499999761581421f)) * _1824) + _1802);
    _1850 = ((((_1818 - _1803) + ((_1829 - _1818) * 0.6499999761581421f)) * _1824) + _1803);
    _1851 = ((((_1823 - _1804) + ((_1829 - _1823) * 0.6499999761581421f)) * _1824) + _1804);
  } else {
    _1849 = _1802;
    _1850 = _1803;
    _1851 = _1804;
  }
  if (!(frame_consts.invert == 0)) {
    _1860 = (1.0f - _1849);
    _1861 = (1.0f - _1850);
    _1862 = (1.0f - _1851);
  } else {
    _1860 = _1849;
    _1861 = _1850;
    _1862 = _1851;
  }
  SV_Target.x = _1860;
  SV_Target.y = _1861;
  SV_Target.z = _1862;
  if (RENODX_TONE_MAP_TYPE) {
    SV_Target.rgb = renodx::draw::ToneMapPass(untonemapped.rgb, SV_Target.rgb);
  } else {
    SV_Target.rgb = saturate(SV_Target.rgb);
  }
  SV_Target.rgb = renodx::draw::RenderIntermediatePass(SV_Target.rgb);

  SV_Target.w = 1.0f;
  return SV_Target;
}
