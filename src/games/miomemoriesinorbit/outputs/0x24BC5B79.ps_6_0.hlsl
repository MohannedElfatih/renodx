#include "../shared.h"

struct Lod_params {
  struct Lod_brush_params {
    float4 brush_uv[4];
    float base_radius;
    float radius_variation;
    float radius_random;
    float blur;
    float alpha;
    float stretch;
  } brushes;
  struct Lod_noise_params {
    float chaos;
    float freq;
    float brightness;
    float saturation;
    float hue;
  } noise;
  struct Lod_outlines_params {
    float2 thickness;
    float2 softness;
    float2 displacement;
    float2 attenuation;
    float lighting_threshold;
    float lighting_threshold_softness;
    float2 lighting_dark;
    float2 lighting_bright;
    float2 discretion;
    float2 alpha;
  } outlines;
};

struct Frame_constants {
  float3 cam_world_pos;
  float time;
  float2 inv_near_dim;
  float proj_scale;
  uint flags;
  float2 half_vp_dim;
  int2 vp_dim;
  float2 vp_texel_size;
  int2 mouse_pos;
  int2 inspected_pix;
  int2 hi_z_0_dim;
  int supersampling;
  int debug_patches;
  int use_patches;
  int emissive;
  float3 target;
  uint frame_number;
  uint shot_frame_number;
  float dt;
  float4 view_to_world[4];
  float4 world_to_view[4];
  float4 view_ndc[4];
  float4 world_ndc[4];
  float4 prev_world_ndc[4];
  float4 ndc_world[4];
  float4 ndc_to_prev_ndc[4];
  float4 prev_ndc_to_ndc[4];
  float4 view_world_z0;
  float4 pix_to_fog_eq;
  float3 mio_view;
  float3 mio_hair_outline_color;
  float mio_foliage_velocity;
  int show_wireframe;
  int ao;
  int glitch;
  int no_vertex_color;
  float paper_mult;
  int hatching;
  int mio_halo;
  int vol_temporal;
  int heart_attack_active;
  int heart_attack_secondary_target;
  int triangular_dissolve_enabled;
  int color_correct;
  float starfield_effect_amount;
  float starfield_fade_amount;
  float3 starfield_center_view;
  float starfield_glow_amount;
  float starfield_pulse_t;
  float death_anim_t;
  float3 game_plane_world_origin;
  float3 game_plane_world_normal;
  float3 game_plane_world_u;
  float3 game_plane_world_v;
  float4 game_plane_transform[4];
  float4 hatching_xf[4];
  float4 paper_xf[4];
  float2 game_plane_blend;
  float heart_attack_t;
  float heart_attack_duration;
  float heart_attack_pulse;
  float heart_attack_outline_distance;
  float heart_attack_dissolve_distance;
  float3 heart_attack_dissolve_color;
  float heart_attack_dissolve_base;
  float heart_attack_dissolve_mult;
  float3 heart_attack_dissolve_world_center;
  float heart_attack_vertical_dissolve;
  float triangular_dissolve_base_amount;
  float triangular_dissolve_amount;
  float flashback_lut;
  float evil_mio;
  float dead_mio;
  float godlike_mio;
  float khlia_pulse_t;
  float khlia__pulse_t;
  float khlia_pulse_period;
  float3 khlia_world_pos;
  float skydome_rotation_offset;
  float hatch_ambiant_mul;
  float hatch_ambiant_add;
  float glitch_scale;
  uint max_contours;
  uint max_contour_loops;
  int death_screen;
  float death_screen_t;
  int poetic_death_screen;
  float poetic_death_screen_t;
  float tremor_pulse_t;
  int invert;
  float surface_fade;
  struct Postprocess_params {
    struct AO_params {
      float3 color;
      float intensity;
    } ao;
    struct Fog_params {
      float bloom_factor;
      float space;
      float outline_density;
      float outline_attenuation;
    } fog;
    struct Ambient_light_params {
      int undercoat_grad;
      float3 color;
      float intensity;
      float gameplay_intensity;
      float gameplay_width;
      float directional_intensity;
      float directional_shadows;
      float undercoat_noise_freq;
      float undercoat_noise_amplitude;
      float undercoat_noise_threshold;
      float undercoating;
    } ambient_light;
    struct Vignette_params {
      float intensity;
      float rounded;
      float3 color;
      float golden_intensity;
      float golden_color;
    } vignette;
    struct Bloom_params {
      float intensity;
      float threshold_low;
      float threshold_high;
    } bloom;
    struct Mio_params {
      float light_intensity;
      float light_radius;
      float3 light_color;
      float spec_intensity;
      float3 halo_color;
      float halo_intensity;
    } mio;
    struct Particles_params {
      uint count;
      float cam_near;
      float cam_far;
      float fadeoff_near;
      float2 lifetime;
      float fadein_duration;
      float fadeoff_duration;
      float2 alpha;
      float2 scale;
      float2 speed;
      int gradient;
      float circle_attenuation;
    } particles;
    struct Chroma_aberration_params {
      float intensity;
    } chroma_aberration;
    struct Fade_params {
      float intensity;
      float3 color;
    } fade;
    struct Dof_params {
      float plane_01;
      float plane_01_softness;
      float plane_12;
      float plane_12_softness;
      float foreground;
      float foreground_softness;
    } dof;
    Lod_params lod_foreground;
    Lod_params lod_game;
    Lod_params lod_midground;
    Lod_params lod_background;
  } params;
};


Texture2D<float4> tex : register(t0);

Texture2D<float> depth_tex : register(t1);

Texture2D<float> paper_tex : register(t5);

Texture2D<float3> bloom_tex : register(t7);

cbuffer frame_consts : register(b0) {
  Frame_constants frame_consts : packoffset(c000.x);
};

SamplerState sampler_nearest : register(s0);

SamplerState sampler_bilinear : register(s1);

SamplerState sampler_bilinear_wrap : register(s2);

float4 main(
  noperspective float4 SV_Position : SV_Position,
  linear float2 O_Uv : O_Uv
) : SV_Target {
  float4 SV_Target;
  float _14 = float((int)(frame_consts.vp_dim.x));
  float _15 = float((int)(frame_consts.vp_dim.y));
  float _47;
  float _48;
  float _49;
  float _50;
  float _213;
  float _224;
  float _235;
  float _258;
  float _259;
  float _260;
  float _421;
  float _422;
  float _423;
  float _464;
  float _465;
  float _466;
  float _615;
  float _616;
  float _617;
  float _625;
  float _1893;
  float _1894;
  float _1895;
  float _1904;
  float _1905;
  float _1906;
  if (frame_consts.params.chroma_aberration.intensity > 0.0f) {
    float _22 = abs(O_Uv.x + -0.5f);
    float _23 = abs(O_Uv.y + -0.5f);
    float _27 = (rsqrt(dot(float2(_22, _23), float2(_22, _23))) * 0.009999999776482582f) * frame_consts.params.chroma_aberration.intensity;
    float _28 = _27 * _22;
    float _29 = _27 * _23;
    float4 _32 = tex.SampleLevel(sampler_nearest, float2((_28 + O_Uv.x), (_29 + O_Uv.y)), 0.0f);
    float4 _34 = tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
    float4 _38 = tex.SampleLevel(sampler_nearest, float2((O_Uv.x - _28), (O_Uv.y - _29)), 0.0f);
    _47 = _32.x;
    _48 = _34.y;
    _49 = _38.z;
    _50 = 0.5f;
  } else {
    float4 _41 = tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
    _47 = _41.x;
    _48 = _41.y;
    _49 = _41.z;
    _50 = _41.w;
  }
  float3 untonemapped = float3(_47, _48, _49);

  float3 _51 = bloom_tex.SampleLevel(sampler_bilinear, float2(O_Uv.x, O_Uv.y), 0.0f);
  float _66 = max((((1.0f - (_47 * 0.2125999927520752f)) - (_48 * 0.7152000069618225f)) - (_49 * 0.0722000002861023f)), 0.0010000000474974513f);
  float _70 = (_47 / _66) + (frame_consts.params.bloom.intensity * _51.x);
  float _71 = (_48 / _66) + (frame_consts.params.bloom.intensity * _51.y);
  float _72 = (_49 / _66) + (frame_consts.params.bloom.intensity * _51.z);
  float _78 = (((_70 * 0.2125999927520752f) + 1.0f) + (_71 * 0.7152000069618225f)) + (_72 * 0.0722000002861023f);
  float _82 = saturate(_70 / _78);
  float _83 = saturate(_71 / _78);
  float _84 = saturate(_72 / _78);
  if (!(frame_consts.glitch == 0)) {
    float _92 = float((int)(int((_14 / _15) * 1080.0f)));
    float _93 = _92 * O_Uv.x;
    float _94 = O_Uv.y * 1080.0f;
    float _95 = _92 * 0.5f;
    float _98 = max(frame_consts.khlia_pulse_t, 0.0f);
    float _105 = max((frame_consts.khlia_pulse_t + -0.30000001192092896f), 0.0f);
    float _111 = ((_105 * 3.0f) * exp2(1.4426950216293335f - (_105 * 4.328084945678711f))) + ((_98 * 5.0f) * exp2(1.4426950216293335f - (_98 * 7.213475227355957f)));
    float _112 = _111 * 15.0f;
    float _113 = _112 + 30.0f;
    float _115 = (_111 * 20.0f) + 80.0f;
    float _119 = abs(_92 * (O_Uv.x + -0.5f));
    float _120 = abs(_94 + -540.0f);
    float _123 = ((_119 - _95) + _113) + _115;
    float _126 = ((_120 + -510.0f) + _112) + _115;
    float _129 = max(_123, 0.0f);
    float _130 = max(_126, 0.0f);
    float _144 = _119 - (_95 - _113);
    float _145 = _120 - (510.0f - _112);
    float _146 = max(_144, 0.0f);
    float _147 = max(_145, 0.0f);
    float _163 = max(max(0.0f, (1.0f - saturate(abs((min(max(_123, _126), 0.0f) - _115) + sqrt((_130 * _130) + (_129 * _129))) + -0.5f))), ((1.0f - saturate(abs(min(max(_144, _145), 0.0f) + sqrt((_147 * _147) + (_146 * _146))) + -0.5f)) * (1.0f - saturate(_111 * 1.6666666269302368f))));
    float _174 = frac((_93 + _94) * 0.0012499999720603228f) + -0.5f;
    float _175 = frac((_94 - _93) * 0.0012499999720603228f) + -0.5f;
    float _187 = saturate((sin((((_93 * 0.0003124999930150807f) + (O_Uv.y * 0.3375000059604645f)) * 20.0f) - (frame_consts.time * 0.8500000238418579f)) * 1.2500001192092896f) + -0.25000008940696716f);
    float _191 = (_187 * _187) * (3.0f - (_187 * 2.0f));
    float _193 = saturate(sqrt((_175 * _175) + (_174 * _174)) * 2.0f);
    float _198 = _191 * 0.20000000298023224f;
    float _200 = ((_193 * 0.12156862020492554f) + 0.7450979948043823f) + _198;
    float _201 = ((_193 * 0.3333333134651184f) + 0.34117645025253296f) + _198;
    do {
      if (!(!((_198 + 0.9803921580314636f) <= 0.040449999272823334f))) {
        _213 = ((_191 * 0.015479876659810543f) + 0.07588174939155579f);
      } else {
        _213 = exp2(log2((_191 * 0.18957345187664032f) + 0.9814143776893616f) * 2.4000000953674316f);
      }
      do {
        if (!(!(_200 <= 0.040449999272823334f))) {
          _224 = (_200 * 0.07739938050508499f);
        } else {
          _224 = exp2(log2((_200 + 0.054999999701976776f) * 0.9478672742843628f) * 2.4000000953674316f);
        }
        do {
          if (!(!(_201 <= 0.040449999272823334f))) {
            _235 = (_201 * 0.07739938050508499f);
          } else {
            _235 = exp2(log2((_201 + 0.054999999701976776f) * 0.9478672742843628f) * 2.4000000953674316f);
          }
          float _241 = (((_213 * 0.2125999927520752f) + 1.0f) + (_224 * 0.7152000069618225f)) + (_235 * 0.0722000002861023f);
          _258 = (((saturate(_213 / _241) - _82) * _163) + _82);
          _259 = (((saturate(_224 / _241) - _83) * _163) + _83);
          _260 = (((saturate(_235 / _241) - _84) * _163) + _84);
        } while (false);
      } while (false);
    } while (false);
  } else {
    _258 = _82;
    _259 = _83;
    _260 = _84;
  }
  float _266 = depth_tex.SampleLevel(sampler_nearest, float2(O_Uv.x, O_Uv.y), 0.0f);
  float _270 = 10000.0f / ((_266.x * 19999.5f) + 0.5f);
  float _275 = (_270 * ((O_Uv.x * 2.0f) + -1.0f)) * frame_consts.inv_near_dim.x;
  float _277 = (_270 * (((1.0f - O_Uv.y) * 2.0f) + -1.0f)) * frame_consts.inv_near_dim.y;
  float _278 = -0.0f - _270;
  float _302 = mad((frame_consts.paper_xf[2].z), _278, mad((frame_consts.paper_xf[1].z), _277, (_275 * (frame_consts.paper_xf[0].z))));
  float _303 = mad((frame_consts.paper_xf[2].x), _278, mad((frame_consts.paper_xf[1].x), _277, (_275 * (frame_consts.paper_xf[0].x)))) / _302;
  float _304 = mad((frame_consts.paper_xf[2].y), _278, mad((frame_consts.paper_xf[1].y), _277, (_275 * (frame_consts.paper_xf[0].y)))) / _302;
  float _308 = 1.0f - frame_consts.game_plane_blend.y;
  float _313 = log2(max(5.0f, (-0.0f - (_302 - frame_consts.game_plane_blend.x)))) * 10.0f;
  float _314 = floor(_313);
  float _315 = _313 - _314;
  float _317 = exp2(_314 * 0.10000000149011612f);
  float _318 = 1.0f / _317;
  float _319 = min(_318, 0.20000000298023224f);
  float _321 = min((_318 * 0.9330329895019531f), 0.20000000298023224f);
  float _322 = frame_consts.game_plane_blend.x - _317;
  float _328 = frame_consts.game_plane_blend.x - (_317 * 1.0717734098434448f);
  float _340 = frame_consts.game_plane_blend.x + 10.0f;
  float _345 = log2(max(5.0f, (-0.0f - (_302 - _340)))) * 10.0f;
  float _346 = floor(_345);
  float _347 = _345 - _346;
  float _349 = exp2(_346 * 0.10000000149011612f);
  float _350 = 1.0f / _349;
  float _351 = min(_350, 0.20000000298023224f);
  float _353 = min((_350 * 0.9330329895019531f), 0.20000000298023224f);
  float _354 = _340 - _349;
  float _360 = _340 - (_349 * 1.0717734098434448f);
  float _372 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_322 * _303) + (frame_consts.paper_xf[3].x)) * _319), (((_322 * _304) + (frame_consts.paper_xf[3].y)) * _319)), 0.0f);
  float _375 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_328 * _303) + (frame_consts.paper_xf[3].x)) * _321), (((_328 * _304) + (frame_consts.paper_xf[3].y)) * _321)), 0.0f);
  float _378 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_354 * _303) + (frame_consts.paper_xf[3].x)) * _351), (((_354 * _304) + (frame_consts.paper_xf[3].y)) * _351)), 0.0f);
  float _381 = paper_tex.SampleLevel(sampler_bilinear_wrap, float2((((_360 * _303) + (frame_consts.paper_xf[3].x)) * _353), (((_360 * _304) + (frame_consts.paper_xf[3].y)) * _353)), 0.0f);
  float _390 = ((((1.0f - (((1.0f - _315) * _308) * _372.x)) - ((_315 * _308) * _375.x)) - (((1.0f - _347) * frame_consts.game_plane_blend.y) * _378.x)) - ((_347 * frame_consts.game_plane_blend.y) * _381.x)) * frame_consts.paper_mult;
  float _394 = _258 - (_390 * _258);
  float _395 = _259 - (_390 * _259);
  float _396 = _260 - (_390 * _260);
  if (!(frame_consts.death_screen == 0)) {
    float _419 = select((frame_consts.death_screen_t <= 0.019999999552965164f), (1.0f - _50), _50);
    _421 = _419;
    _422 = _419;
    _423 = _419;
  } else {
    _421 = (lerp(_394, frame_consts.params.fade.color.x, frame_consts.params.fade.intensity));
    _422 = (lerp(_395, frame_consts.params.fade.color.y, frame_consts.params.fade.intensity));
    _423 = (lerp(_396, frame_consts.params.fade.color.z, frame_consts.params.fade.intensity));
  }
  if (!(frame_consts.triangular_dissolve_enabled == 0)) {
    float _431 = _14 * O_Uv.x;
    float _432 = _15 * O_Uv.y;
    float _433 = _431 * 0.06666667014360428f;
    float _434 = _432 * 0.038490019738674164f;
    float _436 = ceil(_433 - _434);
    float _438 = floor(_432 * 0.07698003947734833f);
    float _439 = _438 + 1.0f;
    float _442 = ceil((-0.0f - _433) - _434);
    float _444 = (_436 - _442) * 7.5f;
    float _445 = _436 * 0.28867512941360474f;
    float _446 = _439 * 0.5773502588272095f;
    float _447 = _446 - _445;
    float _448 = _442 * 0.28867512941360474f;
    float _451 = _444 / _14;
    float _452 = ((_447 - _448) * 15.0f) / _15;
    do {
      if (((_439 + _436) + _442) == 2.0f) {
        _464 = (_436 + 1.0f);
        _465 = (_438 + 2.0f);
        _466 = (_442 + 1.0f);
      } else {
        _464 = (_436 + -1.0f);
        _465 = _438;
        _466 = (_442 + -1.0f);
      }
      float _467 = _464 - _442;
      float _470 = _446 - (_464 * 0.28867512941360474f);
      float _471 = _470 - _448;
      float _474 = (_465 * 0.5773502588272095f) - _445;
      float _475 = _474 - _448;
      float _477 = _436 - _466;
      float _480 = _447 - (_466 * 0.28867512941360474f);
      float _484 = (_470 - _474) * 15.0f;
      float _485 = (_464 - _436) * -7.5f;
      float _487 = rsqrt(dot(float2(_484, _485), float2(_484, _485)));
      float _496 = (_475 - _480) * 15.0f;
      float _497 = (_466 - _442) * -7.5f;
      float _499 = rsqrt(dot(float2(_496, _497), float2(_496, _497)));
      float _508 = (_480 - _471) * 15.0f;
      float _509 = (_477 - _467) * -7.5f;
      float _511 = rsqrt(dot(float2(_508, _509), float2(_508, _509)));
      float _524 = _451 + -0.5f;
      float _525 = _452 + -0.5f;
      float _572 = O_Uv.x + -0.5f;
      float _573 = O_Uv.y + -0.5f;
      float _580 = ((frame_consts.time - sqrt((_573 * _573) + (_572 * _572))) + (frac(sin(dot(float2((_451 * 5.0f), (_452 * 5.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.20000000298023224f)) * 0.0555555559694767f;
      float _584 = frac(abs(_580));
      float _588 = max((select((_580 >= (-0.0f - _580)), _584, (-0.0f - _584)) * 18.0f), 0.0f);
      float _604 = min(max((1.0f - (((((_588 * 1.600000023841858f) * exp2(1.4426950216293335f - (_588 * 11.541560173034668f))) + (saturate((((frame_consts.triangular_dissolve_amount + -0.6499999761581421f) + (sqrt((_525 * _525) + (_524 * _524)) * 1.4142135381698608f)) + (frac(sin(dot(float2((_451 * 3.0f), (_452 * 3.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.10000000149011612f)) * 4.0f) * ((frame_consts.triangular_dissolve_amount * 4.0f) + 1.0f))) * frame_consts.triangular_dissolve_base_amount) * ((saturate((sin((frac(sin(dot(float2(_451, _452), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 5.0f) + ((frame_consts.time * 1.7999999523162842f) * ((frac(sin(dot(float2((_451 * 2.0f), (_452 * 2.0f)), float2(12.989800453186035f, 78.23300170898438f))) * 43758.5f) * 0.10000000149011612f) + 1.0f))) + 1.0f) * 0.5f) * 0.75f) + 0.25f))), 0.0f), 1.0f);
      float _610 = 1.0f - saturate(((1.0f - saturate(min(min(min(1000.0f, abs(dot(float2(((_467 * 7.5f) - _431), ((_471 * 15.0f) - _432)), float2((_484 * _487), (_487 * _485))))), abs(dot(float2((_444 - _431), ((_475 * 15.0f) - _432)), float2((_499 * _496), (_499 * _497))))), abs(dot(float2(((_477 * 7.5f) - _431), ((_480 * 15.0f) - _432)), float2((_511 * _508), (_511 * _509))))) * 0.2309400886297226f)) - _604) / ((_604 * 0.10000002384185791f) + 9.999999974752427e-07f));
      _615 = (_610 * _421);
      _616 = (_610 * _422);
      _617 = (_610 * _423);
    } while (false);
  } else {
    _615 = _421;
    _616 = _422;
    _617 = _423;
  }
  if (!(frame_consts.heart_attack_active == 0)) {
    _625 = (frame_consts.heart_attack_pulse * 0.10000000149011612f);
  } else {
    _625 = 0.0f;
  }
  float _632 = frame_consts.params.vignette.intensity + _625;
  float _635 = _14 / _15;
  float _647 = exp2(log2(saturate((_632 * abs(O_Uv.x + -0.5f)) * (((_635 + -1.0f) * frame_consts.params.vignette.rounded) + 1.0f))) * 5.0f);
  float _648 = exp2(log2(saturate(_632 * abs(O_Uv.y + -0.5f))) * 5.0f);
  float _654 = exp2(log2(saturate(1.0f - dot(float2(_647, _648), float2(_647, _648)))) * 6.0f);
  float _659 = 1.0f - _654;
  float _661 = 1.0f - (_659 * 0.8500000238418579f);
  float _668 = (_661 * (_615 - frame_consts.params.vignette.color.x)) + frame_consts.params.vignette.color.x;
  float _669 = (_661 * (_616 - frame_consts.params.vignette.color.y)) + frame_consts.params.vignette.color.y;
  float _670 = (_661 * (_617 - frame_consts.params.vignette.color.z)) + frame_consts.params.vignette.color.z;
  float _674 = _14 * O_Uv.x;
  float _675 = _15 * O_Uv.y;
  float _676 = _674 + _675;
  float _682 = frac(_676 * 0.0033333334140479565f) + -0.5f;
  float _683 = frac((_675 - _674) * 0.0033333334140479565f) + -0.5f;
  float _689 = saturate(sqrt((_683 * _683) + (_682 * _682)) * 2.0f);
  float _700 = saturate((sin((_676 * 0.01666666753590107f) - (frame_consts.time * 0.8500000238418579f)) * 1.2500001192092896f) + -0.25000008940696716f);
  float _705 = ((_700 * _700) * 0.2199999988079071f) * (3.0f - (_700 * 2.0f));
  float _706 = _705 + 0.9777389168739319f;
  float _707 = ((_689 * 0.13274884223937988f) + 0.7175776362419128f) + _705;
  float _708 = ((_689 * 0.3335757553577423f) + 0.30871906876564026f) + _705;
  float _713 = (O_Uv.x * 1080.0f) * _635;
  float _714 = O_Uv.y * 1080.0f;
  float _715 = _713 * 0.04444444552063942f;
  float _716 = O_Uv.y * 27.712812423706055f;
  float _718 = ceil(_715 - _716);
  float _721 = floor(O_Uv.y * 55.42562484741211f) + 1.0f;
  float _724 = ceil((-0.0f - _716) - _715);
  float _726 = (_721 + _718) + _724;
  float _728 = (_726 * 22.5f) + -33.75f;
  float _729 = _718 - _724;
  float _731 = _729 * 11.25f;
  float _737 = (((_721 * 0.5773502588272095f) - (_718 * 0.28867512941360474f)) - (_724 * 0.28867512941360474f)) * 22.5f;
  float _740 = _728 + _731;
  float _741 = _737 + (19.485570907592773f - (_726 * 12.990381240844727f));
  float _744 = ((_726 * 25.980762481689453f) + -38.97114181518555f) + _737;
  float _745 = _731 - _728;
  float _746 = _740 - _713;
  float _747 = _741 - _714;
  float _750 = _731 - _713;
  float _751 = _744 - _714;
  float _756 = _747 * _747;
  float _763 = _745 - _713;
  float _767 = _741 * 2.5f;
  float _768 = frame_consts.time * 1.5f;
  float _772 = _741 * 0.004444444552063942f;
  float _773 = frame_consts.time * 0.15000000596046448f;
  float _774 = (_740 * 0.04444444552063942f) - _773;
  float _775 = _772 - _773;
  float _776 = frame_consts.time * 0.02500000037252903f;
  float _777 = dot(float3(_774, _775, _776), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _781 = floor(_777 + _774);
  float _782 = floor(_777 + _775);
  float _783 = floor(_777 + _776);
  float _787 = dot(float3(_781, _782, _783), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _788 = _787 + (_774 - _781);
  float _789 = _787 + (_775 - _782);
  float _790 = (_776 - _783) + _787;
  float _794 = select((_788 < _789), 0.0f, 1.0f);
  float _795 = select((_789 < _790), 0.0f, 1.0f);
  float _796 = select((_790 < _788), 0.0f, 1.0f);
  float _797 = 1.0f - _794;
  float _798 = 1.0f - _795;
  float _799 = 1.0f - _796;
  float _800 = min(_794, _799);
  float _801 = min(_795, _797);
  float _802 = min(_796, _798);
  float _803 = max(_794, _799);
  float _804 = max(_795, _797);
  float _805 = max(_796, _798);
  float _809 = (_788 - _800) + 0.1666666716337204f;
  float _810 = (_789 - _801) + 0.1666666716337204f;
  float _811 = (_790 - _802) + 0.1666666716337204f;
  float _815 = (_788 - _803) + 0.3333333432674408f;
  float _816 = (_789 - _804) + 0.3333333432674408f;
  float _817 = (_790 - _805) + 0.3333333432674408f;
  float _818 = _788 + -0.5f;
  float _819 = _789 + -0.5f;
  float _820 = _790 + -0.5f;
  float _830 = _781 - (floor(_781 * 0.0034602077212184668f) * 289.0f);
  float _831 = _782 - (floor(_782 * 0.0034602077212184668f) * 289.0f);
  float _832 = _783 - (floor(_783 * 0.0034602077212184668f) * 289.0f);
  float _833 = _832 + _802;
  float _834 = _832 + _805;
  float _835 = _832 + 1.0f;
  float _844 = ((_832 * 34.0f) + 1.0f) * _832;
  float _845 = ((_833 * 34.0f) + 1.0f) * _833;
  float _846 = ((_834 * 34.0f) + 1.0f) * _834;
  float _847 = ((_835 * 34.0f) + 1.0f) * _835;
  float _861 = (_844 - (floor(_844 * 0.0034602077212184668f) * 289.0f)) + _831;
  float _864 = ((_831 + _801) - (floor(_845 * 0.0034602077212184668f) * 289.0f)) + _845;
  float _867 = ((_831 + _804) - (floor(_846 * 0.0034602077212184668f) * 289.0f)) + _846;
  float _870 = ((_831 + 1.0f) - (floor(_847 * 0.0034602077212184668f) * 289.0f)) + _847;
  float _879 = ((_861 * 34.0f) + 1.0f) * _861;
  float _880 = ((_864 * 34.0f) + 1.0f) * _864;
  float _881 = ((_867 * 34.0f) + 1.0f) * _867;
  float _882 = ((_870 * 34.0f) + 1.0f) * _870;
  float _896 = (_879 - (floor(_879 * 0.0034602077212184668f) * 289.0f)) + _830;
  float _899 = ((_830 + _800) - (floor(_880 * 0.0034602077212184668f) * 289.0f)) + _880;
  float _902 = ((_830 + _803) - (floor(_881 * 0.0034602077212184668f) * 289.0f)) + _881;
  float _905 = ((_830 + 1.0f) - (floor(_882 * 0.0034602077212184668f) * 289.0f)) + _882;
  float _914 = ((_896 * 34.0f) + 1.0f) * _896;
  float _915 = ((_899 * 34.0f) + 1.0f) * _899;
  float _916 = ((_902 * 34.0f) + 1.0f) * _902;
  float _917 = ((_905 * 34.0f) + 1.0f) * _905;
  float _930 = _914 - (floor(_914 * 0.0034602077212184668f) * 289.0f);
  float _931 = _915 - (floor(_915 * 0.0034602077212184668f) * 289.0f);
  float _932 = _916 - (floor(_916 * 0.0034602077212184668f) * 289.0f);
  float _933 = _917 - (floor(_917 * 0.0034602077212184668f) * 289.0f);
  float _946 = _930 - (floor(_930 * 0.020408164709806442f) * 49.0f);
  float _947 = _931 - (floor(_931 * 0.020408164709806442f) * 49.0f);
  float _948 = _932 - (floor(_932 * 0.020408164709806442f) * 49.0f);
  float _949 = _933 - (floor(_933 * 0.020408164709806442f) * 49.0f);
  float _954 = floor(_946 * 0.1428571492433548f);
  float _955 = floor(_947 * 0.1428571492433548f);
  float _956 = floor(_948 * 0.1428571492433548f);
  float _957 = floor(_949 * 0.1428571492433548f);
  float _974 = (_954 * 0.2857142984867096f) + -0.9285714030265808f;
  float _975 = (_955 * 0.2857142984867096f) + -0.9285714030265808f;
  float _976 = (_956 * 0.2857142984867096f) + -0.9285714030265808f;
  float _977 = (_957 * 0.2857142984867096f) + -0.9285714030265808f;
  float _982 = (floor(_946 - (_954 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _983 = (floor(_947 - (_955 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _984 = (floor(_948 - (_956 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _985 = (floor(_949 - (_957 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _998 = (1.0f - abs(_974)) - abs(_982);
  float _999 = (1.0f - abs(_975)) - abs(_983);
  float _1000 = (1.0f - abs(_976)) - abs(_984);
  float _1001 = (1.0f - abs(_977)) - abs(_985);
  float _1030 = select((_998 > 0.0f), -0.0f, -1.0f);
  float _1031 = select((_999 > 0.0f), -0.0f, -1.0f);
  float _1032 = select((_1000 > 0.0f), -0.0f, -1.0f);
  float _1033 = select((_1001 > 0.0f), -0.0f, -1.0f);
  float _1038 = (((floor(_974) * 2.0f) + 1.0f) * _1030) + _974;
  float _1039 = (((floor(_982) * 2.0f) + 1.0f) * _1030) + _982;
  float _1040 = (((floor(_975) * 2.0f) + 1.0f) * _1031) + _975;
  float _1041 = (((floor(_983) * 2.0f) + 1.0f) * _1031) + _983;
  float _1046 = (((floor(_976) * 2.0f) + 1.0f) * _1032) + _976;
  float _1047 = (((floor(_984) * 2.0f) + 1.0f) * _1032) + _984;
  float _1048 = (((floor(_977) * 2.0f) + 1.0f) * _1033) + _977;
  float _1049 = (((floor(_985) * 2.0f) + 1.0f) * _1033) + _985;
  float _1058 = 1.7928400039672852f - (dot(float3(_1038, _1039, _998), float3(_1038, _1039, _998)) * 0.8537350296974182f);
  float _1059 = 1.7928400039672852f - (dot(float3(_1040, _1041, _999), float3(_1040, _1041, _999)) * 0.8537350296974182f);
  float _1060 = 1.7928400039672852f - (dot(float3(_1046, _1047, _1000), float3(_1046, _1047, _1000)) * 0.8537350296974182f);
  float _1061 = 1.7928400039672852f - (dot(float3(_1048, _1049, _1001), float3(_1048, _1049, _1001)) * 0.8537350296974182f);
  float _1082 = max((0.6000000238418579f - dot(float3(_788, _789, _790), float3(_788, _789, _790))), 0.0f);
  float _1083 = max((0.6000000238418579f - dot(float3(_809, _810, _811), float3(_809, _810, _811))), 0.0f);
  float _1084 = max((0.6000000238418579f - dot(float3(_815, _816, _817), float3(_815, _816, _817))), 0.0f);
  float _1085 = max((0.6000000238418579f - dot(float3(_818, _819, _820), float3(_818, _819, _820))), 0.0f);
  float _1086 = _1082 * _1082;
  float _1087 = _1083 * _1083;
  float _1088 = _1084 * _1084;
  float _1089 = _1085 * _1085;
  float _1104 = saturate((((sin(_767 - _768) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1086 * _1086), (_1087 * _1087), (_1088 * _1088), (_1089 * _1089)), float4(dot(float3((_1058 * _1038), (_1058 * _1039), (_1058 * _998)), float3(_788, _789, _790)), dot(float3((_1059 * _1040), (_1059 * _1041), (_1059 * _999)), float3(_809, _810, _811)), dot(float3((_1060 * _1046), (_1060 * _1047), (_1060 * _1000)), float3(_815, _816, _817)), dot(float3((_1061 * _1048), (_1061 * _1049), (_1061 * _1001)), float3(_818, _819, _820)))) * 21.0f)) * 4.0f);
  float _1108 = (_1104 * _1104) * (3.0f - (_1104 * 2.0f));
  float _1110 = (_1108 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1115 = (_729 * 0.5f) - _773;
  float _1116 = (_744 * 0.004444444552063942f) - _773;
  float _1117 = dot(float3(_1115, _1116, _776), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _1121 = floor(_1117 + _1115);
  float _1122 = floor(_1117 + _1116);
  float _1123 = floor(_1117 + _776);
  float _1127 = dot(float3(_1121, _1122, _1123), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _1128 = _1127 + (_1115 - _1121);
  float _1129 = _1127 + (_1116 - _1122);
  float _1130 = (_776 - _1123) + _1127;
  float _1134 = select((_1128 < _1129), 0.0f, 1.0f);
  float _1135 = select((_1129 < _1130), 0.0f, 1.0f);
  float _1136 = select((_1130 < _1128), 0.0f, 1.0f);
  float _1137 = 1.0f - _1134;
  float _1138 = 1.0f - _1135;
  float _1139 = 1.0f - _1136;
  float _1140 = min(_1134, _1139);
  float _1141 = min(_1135, _1137);
  float _1142 = min(_1136, _1138);
  float _1143 = max(_1134, _1139);
  float _1144 = max(_1135, _1137);
  float _1145 = max(_1136, _1138);
  float _1149 = (_1128 - _1140) + 0.1666666716337204f;
  float _1150 = (_1129 - _1141) + 0.1666666716337204f;
  float _1151 = (_1130 - _1142) + 0.1666666716337204f;
  float _1155 = (_1128 - _1143) + 0.3333333432674408f;
  float _1156 = (_1129 - _1144) + 0.3333333432674408f;
  float _1157 = (_1130 - _1145) + 0.3333333432674408f;
  float _1158 = _1128 + -0.5f;
  float _1159 = _1129 + -0.5f;
  float _1160 = _1130 + -0.5f;
  float _1170 = _1121 - (floor(_1121 * 0.0034602077212184668f) * 289.0f);
  float _1171 = _1122 - (floor(_1122 * 0.0034602077212184668f) * 289.0f);
  float _1172 = _1123 - (floor(_1123 * 0.0034602077212184668f) * 289.0f);
  float _1173 = _1172 + _1142;
  float _1174 = _1172 + _1145;
  float _1175 = _1172 + 1.0f;
  float _1184 = ((_1172 * 34.0f) + 1.0f) * _1172;
  float _1185 = ((_1173 * 34.0f) + 1.0f) * _1173;
  float _1186 = ((_1174 * 34.0f) + 1.0f) * _1174;
  float _1187 = ((_1175 * 34.0f) + 1.0f) * _1175;
  float _1201 = (_1184 - (floor(_1184 * 0.0034602077212184668f) * 289.0f)) + _1171;
  float _1204 = ((_1171 + _1141) - (floor(_1185 * 0.0034602077212184668f) * 289.0f)) + _1185;
  float _1207 = ((_1171 + _1144) - (floor(_1186 * 0.0034602077212184668f) * 289.0f)) + _1186;
  float _1210 = ((_1171 + 1.0f) - (floor(_1187 * 0.0034602077212184668f) * 289.0f)) + _1187;
  float _1219 = ((_1201 * 34.0f) + 1.0f) * _1201;
  float _1220 = ((_1204 * 34.0f) + 1.0f) * _1204;
  float _1221 = ((_1207 * 34.0f) + 1.0f) * _1207;
  float _1222 = ((_1210 * 34.0f) + 1.0f) * _1210;
  float _1236 = (_1219 - (floor(_1219 * 0.0034602077212184668f) * 289.0f)) + _1170;
  float _1239 = ((_1170 + _1140) - (floor(_1220 * 0.0034602077212184668f) * 289.0f)) + _1220;
  float _1242 = ((_1170 + _1143) - (floor(_1221 * 0.0034602077212184668f) * 289.0f)) + _1221;
  float _1245 = ((_1170 + 1.0f) - (floor(_1222 * 0.0034602077212184668f) * 289.0f)) + _1222;
  float _1254 = ((_1236 * 34.0f) + 1.0f) * _1236;
  float _1255 = ((_1239 * 34.0f) + 1.0f) * _1239;
  float _1256 = ((_1242 * 34.0f) + 1.0f) * _1242;
  float _1257 = ((_1245 * 34.0f) + 1.0f) * _1245;
  float _1270 = _1254 - (floor(_1254 * 0.0034602077212184668f) * 289.0f);
  float _1271 = _1255 - (floor(_1255 * 0.0034602077212184668f) * 289.0f);
  float _1272 = _1256 - (floor(_1256 * 0.0034602077212184668f) * 289.0f);
  float _1273 = _1257 - (floor(_1257 * 0.0034602077212184668f) * 289.0f);
  float _1286 = _1270 - (floor(_1270 * 0.020408164709806442f) * 49.0f);
  float _1287 = _1271 - (floor(_1271 * 0.020408164709806442f) * 49.0f);
  float _1288 = _1272 - (floor(_1272 * 0.020408164709806442f) * 49.0f);
  float _1289 = _1273 - (floor(_1273 * 0.020408164709806442f) * 49.0f);
  float _1294 = floor(_1286 * 0.1428571492433548f);
  float _1295 = floor(_1287 * 0.1428571492433548f);
  float _1296 = floor(_1288 * 0.1428571492433548f);
  float _1297 = floor(_1289 * 0.1428571492433548f);
  float _1314 = (_1294 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1315 = (_1295 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1316 = (_1296 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1317 = (_1297 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1322 = (floor(_1286 - (_1294 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1323 = (floor(_1287 - (_1295 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1324 = (floor(_1288 - (_1296 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1325 = (floor(_1289 - (_1297 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1338 = (1.0f - abs(_1314)) - abs(_1322);
  float _1339 = (1.0f - abs(_1315)) - abs(_1323);
  float _1340 = (1.0f - abs(_1316)) - abs(_1324);
  float _1341 = (1.0f - abs(_1317)) - abs(_1325);
  float _1370 = select((_1338 > 0.0f), -0.0f, -1.0f);
  float _1371 = select((_1339 > 0.0f), -0.0f, -1.0f);
  float _1372 = select((_1340 > 0.0f), -0.0f, -1.0f);
  float _1373 = select((_1341 > 0.0f), -0.0f, -1.0f);
  float _1378 = (((floor(_1314) * 2.0f) + 1.0f) * _1370) + _1314;
  float _1379 = (((floor(_1322) * 2.0f) + 1.0f) * _1370) + _1322;
  float _1380 = (((floor(_1315) * 2.0f) + 1.0f) * _1371) + _1315;
  float _1381 = (((floor(_1323) * 2.0f) + 1.0f) * _1371) + _1323;
  float _1386 = (((floor(_1316) * 2.0f) + 1.0f) * _1372) + _1316;
  float _1387 = (((floor(_1324) * 2.0f) + 1.0f) * _1372) + _1324;
  float _1388 = (((floor(_1317) * 2.0f) + 1.0f) * _1373) + _1317;
  float _1389 = (((floor(_1325) * 2.0f) + 1.0f) * _1373) + _1325;
  float _1398 = 1.7928400039672852f - (dot(float3(_1378, _1379, _1338), float3(_1378, _1379, _1338)) * 0.8537350296974182f);
  float _1399 = 1.7928400039672852f - (dot(float3(_1380, _1381, _1339), float3(_1380, _1381, _1339)) * 0.8537350296974182f);
  float _1400 = 1.7928400039672852f - (dot(float3(_1386, _1387, _1340), float3(_1386, _1387, _1340)) * 0.8537350296974182f);
  float _1401 = 1.7928400039672852f - (dot(float3(_1388, _1389, _1341), float3(_1388, _1389, _1341)) * 0.8537350296974182f);
  float _1422 = max((0.6000000238418579f - dot(float3(_1128, _1129, _1130), float3(_1128, _1129, _1130))), 0.0f);
  float _1423 = max((0.6000000238418579f - dot(float3(_1149, _1150, _1151), float3(_1149, _1150, _1151))), 0.0f);
  float _1424 = max((0.6000000238418579f - dot(float3(_1155, _1156, _1157), float3(_1155, _1156, _1157))), 0.0f);
  float _1425 = max((0.6000000238418579f - dot(float3(_1158, _1159, _1160), float3(_1158, _1159, _1160))), 0.0f);
  float _1426 = _1422 * _1422;
  float _1427 = _1423 * _1423;
  float _1428 = _1424 * _1424;
  float _1429 = _1425 * _1425;
  float _1444 = saturate((((sin((_744 * 2.5f) - _768) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1426 * _1426), (_1427 * _1427), (_1428 * _1428), (_1429 * _1429)), float4(dot(float3((_1398 * _1378), (_1398 * _1379), (_1398 * _1338)), float3(_1128, _1129, _1130)), dot(float3((_1399 * _1380), (_1399 * _1381), (_1399 * _1339)), float3(_1149, _1150, _1151)), dot(float3((_1400 * _1386), (_1400 * _1387), (_1400 * _1340)), float3(_1155, _1156, _1157)), dot(float3((_1401 * _1388), (_1401 * _1389), (_1401 * _1341)), float3(_1158, _1159, _1160)))) * 21.0f)) * 4.0f);
  float _1448 = (_1444 * _1444) * (3.0f - (_1444 * 2.0f));
  float _1450 = (_1448 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1457 = frame_consts.time * 0.15000000596046448f;
  float _1458 = (_745 * 0.04444444552063942f) - _1457;
  float _1459 = _772 - _1457;
  float _1460 = frame_consts.time * 0.02500000037252903f;
  float _1461 = dot(float3(_1458, _1459, _1460), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f));
  float _1465 = floor(_1458 + _1461);
  float _1466 = floor(_1459 + _1461);
  float _1467 = floor(_1460 + _1461);
  float _1471 = dot(float3(_1465, _1466, _1467), float3(0.1666666716337204f, 0.1666666716337204f, 0.1666666716337204f));
  float _1472 = _1471 + (_1458 - _1465);
  float _1473 = _1471 + (_1459 - _1466);
  float _1474 = (_1460 - _1467) + _1471;
  float _1478 = select((_1472 < _1473), 0.0f, 1.0f);
  float _1479 = select((_1473 < _1474), 0.0f, 1.0f);
  float _1480 = select((_1474 < _1472), 0.0f, 1.0f);
  float _1481 = 1.0f - _1478;
  float _1482 = 1.0f - _1479;
  float _1483 = 1.0f - _1480;
  float _1484 = min(_1478, _1483);
  float _1485 = min(_1479, _1481);
  float _1486 = min(_1480, _1482);
  float _1487 = max(_1478, _1483);
  float _1488 = max(_1479, _1481);
  float _1489 = max(_1480, _1482);
  float _1493 = (_1472 - _1484) + 0.1666666716337204f;
  float _1494 = (_1473 - _1485) + 0.1666666716337204f;
  float _1495 = (_1474 - _1486) + 0.1666666716337204f;
  float _1499 = (_1472 - _1487) + 0.3333333432674408f;
  float _1500 = (_1473 - _1488) + 0.3333333432674408f;
  float _1501 = (_1474 - _1489) + 0.3333333432674408f;
  float _1502 = _1472 + -0.5f;
  float _1503 = _1473 + -0.5f;
  float _1504 = _1474 + -0.5f;
  float _1514 = _1465 - (floor(_1465 * 0.0034602077212184668f) * 289.0f);
  float _1515 = _1466 - (floor(_1466 * 0.0034602077212184668f) * 289.0f);
  float _1516 = _1467 - (floor(_1467 * 0.0034602077212184668f) * 289.0f);
  float _1517 = _1516 + _1486;
  float _1518 = _1516 + _1489;
  float _1519 = _1516 + 1.0f;
  float _1528 = ((_1516 * 34.0f) + 1.0f) * _1516;
  float _1529 = ((_1517 * 34.0f) + 1.0f) * _1517;
  float _1530 = ((_1518 * 34.0f) + 1.0f) * _1518;
  float _1531 = ((_1519 * 34.0f) + 1.0f) * _1519;
  float _1545 = (_1528 - (floor(_1528 * 0.0034602077212184668f) * 289.0f)) + _1515;
  float _1548 = ((_1515 + _1485) - (floor(_1529 * 0.0034602077212184668f) * 289.0f)) + _1529;
  float _1551 = ((_1515 + _1488) - (floor(_1530 * 0.0034602077212184668f) * 289.0f)) + _1530;
  float _1554 = ((_1515 + 1.0f) - (floor(_1531 * 0.0034602077212184668f) * 289.0f)) + _1531;
  float _1563 = ((_1545 * 34.0f) + 1.0f) * _1545;
  float _1564 = ((_1548 * 34.0f) + 1.0f) * _1548;
  float _1565 = ((_1551 * 34.0f) + 1.0f) * _1551;
  float _1566 = ((_1554 * 34.0f) + 1.0f) * _1554;
  float _1580 = (_1563 - (floor(_1563 * 0.0034602077212184668f) * 289.0f)) + _1514;
  float _1583 = ((_1514 + _1484) - (floor(_1564 * 0.0034602077212184668f) * 289.0f)) + _1564;
  float _1586 = ((_1514 + _1487) - (floor(_1565 * 0.0034602077212184668f) * 289.0f)) + _1565;
  float _1589 = ((_1514 + 1.0f) - (floor(_1566 * 0.0034602077212184668f) * 289.0f)) + _1566;
  float _1598 = ((_1580 * 34.0f) + 1.0f) * _1580;
  float _1599 = ((_1583 * 34.0f) + 1.0f) * _1583;
  float _1600 = ((_1586 * 34.0f) + 1.0f) * _1586;
  float _1601 = ((_1589 * 34.0f) + 1.0f) * _1589;
  float _1614 = _1598 - (floor(_1598 * 0.0034602077212184668f) * 289.0f);
  float _1615 = _1599 - (floor(_1599 * 0.0034602077212184668f) * 289.0f);
  float _1616 = _1600 - (floor(_1600 * 0.0034602077212184668f) * 289.0f);
  float _1617 = _1601 - (floor(_1601 * 0.0034602077212184668f) * 289.0f);
  float _1630 = _1614 - (floor(_1614 * 0.020408164709806442f) * 49.0f);
  float _1631 = _1615 - (floor(_1615 * 0.020408164709806442f) * 49.0f);
  float _1632 = _1616 - (floor(_1616 * 0.020408164709806442f) * 49.0f);
  float _1633 = _1617 - (floor(_1617 * 0.020408164709806442f) * 49.0f);
  float _1638 = floor(_1630 * 0.1428571492433548f);
  float _1639 = floor(_1631 * 0.1428571492433548f);
  float _1640 = floor(_1632 * 0.1428571492433548f);
  float _1641 = floor(_1633 * 0.1428571492433548f);
  float _1658 = (_1638 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1659 = (_1639 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1660 = (_1640 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1661 = (_1641 * 0.2857142984867096f) + -0.9285714030265808f;
  float _1666 = (floor(_1630 - (_1638 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1667 = (floor(_1631 - (_1639 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1668 = (floor(_1632 - (_1640 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1669 = (floor(_1633 - (_1641 * 7.0f)) * 0.2857142984867096f) + -0.9285714030265808f;
  float _1682 = (1.0f - abs(_1658)) - abs(_1666);
  float _1683 = (1.0f - abs(_1659)) - abs(_1667);
  float _1684 = (1.0f - abs(_1660)) - abs(_1668);
  float _1685 = (1.0f - abs(_1661)) - abs(_1669);
  float _1714 = select((_1682 > 0.0f), -0.0f, -1.0f);
  float _1715 = select((_1683 > 0.0f), -0.0f, -1.0f);
  float _1716 = select((_1684 > 0.0f), -0.0f, -1.0f);
  float _1717 = select((_1685 > 0.0f), -0.0f, -1.0f);
  float _1722 = (((floor(_1658) * 2.0f) + 1.0f) * _1714) + _1658;
  float _1723 = (((floor(_1666) * 2.0f) + 1.0f) * _1714) + _1666;
  float _1724 = (((floor(_1659) * 2.0f) + 1.0f) * _1715) + _1659;
  float _1725 = (((floor(_1667) * 2.0f) + 1.0f) * _1715) + _1667;
  float _1730 = (((floor(_1660) * 2.0f) + 1.0f) * _1716) + _1660;
  float _1731 = (((floor(_1668) * 2.0f) + 1.0f) * _1716) + _1668;
  float _1732 = (((floor(_1661) * 2.0f) + 1.0f) * _1717) + _1661;
  float _1733 = (((floor(_1669) * 2.0f) + 1.0f) * _1717) + _1669;
  float _1742 = 1.7928400039672852f - (dot(float3(_1722, _1723, _1682), float3(_1722, _1723, _1682)) * 0.8537350296974182f);
  float _1743 = 1.7928400039672852f - (dot(float3(_1724, _1725, _1683), float3(_1724, _1725, _1683)) * 0.8537350296974182f);
  float _1744 = 1.7928400039672852f - (dot(float3(_1730, _1731, _1684), float3(_1730, _1731, _1684)) * 0.8537350296974182f);
  float _1745 = 1.7928400039672852f - (dot(float3(_1732, _1733, _1685), float3(_1732, _1733, _1685)) * 0.8537350296974182f);
  float _1766 = max((0.6000000238418579f - dot(float3(_1472, _1473, _1474), float3(_1472, _1473, _1474))), 0.0f);
  float _1767 = max((0.6000000238418579f - dot(float3(_1493, _1494, _1495), float3(_1493, _1494, _1495))), 0.0f);
  float _1768 = max((0.6000000238418579f - dot(float3(_1499, _1500, _1501), float3(_1499, _1500, _1501))), 0.0f);
  float _1769 = max((0.6000000238418579f - dot(float3(_1502, _1503, _1504), float3(_1502, _1503, _1504))), 0.0f);
  float _1770 = _1766 * _1766;
  float _1771 = _1767 * _1767;
  float _1772 = _1768 * _1768;
  float _1773 = _1769 * _1769;
  float _1788 = saturate((((sin(_767 - (frame_consts.time * 1.5f)) * 0.15000000596046448f) + 0.050000011920928955f) + (dot(float4((_1770 * _1770), (_1771 * _1771), (_1772 * _1772), (_1773 * _1773)), float4(dot(float3((_1742 * _1722), (_1742 * _1723), (_1742 * _1682)), float3(_1472, _1473, _1474)), dot(float3((_1743 * _1724), (_1743 * _1725), (_1743 * _1683)), float3(_1493, _1494, _1495)), dot(float3((_1744 * _1730), (_1744 * _1731), (_1744 * _1684)), float3(_1499, _1500, _1501)), dot(float3((_1745 * _1732), (_1745 * _1733), (_1745 * _1685)), float3(_1502, _1503, _1504)))) * 21.0f)) * 4.0f);
  float _1792 = (_1788 * _1788) * (3.0f - (_1788 * 2.0f));
  float _1794 = (_1792 * 0.6499999761581421f) + 0.3499999940395355f;
  float _1816 = saturate(_1110);
  float _1817 = saturate(_1450);
  float _1839 = (((_654 * 1.2000000476837158f) * _659) * frame_consts.params.vignette.golden_intensity) * ((((saturate(11.0f - (sqrt((_751 * _751) + (_750 * _750)) / ((_1448 * 0.039000000804662704f) + 0.08100000768899918f))) * _1450) + (saturate(11.0f - (sqrt((_746 * _746) + _756) / ((_1108 * 0.039000000804662704f) + 0.08100000768899918f))) * _1110)) + (saturate(11.0f - (sqrt((_763 * _763) + _756) / ((_1792 * 0.039000000804662704f) + 0.08100000768899918f))) * _1794)) + (((((saturate(1.0f - (abs(_747) * 0.8333333134651184f)) * _1816) + (saturate(1.0f - (abs(dot(float2(_750, _751), float2(-0.8660253882408142f, 0.5f))) * 0.8333333134651184f)) * _1817)) * saturate(_1794)) + ((_1816 * saturate(1.0f - (abs(dot(float2(_746, _747), float2(0.8660253882408142f, 0.5f))) * 0.8333333134651184f))) * _1817)) * 0.5f));
  float _1846 = (_1839 * ((_706 * _706) - _668)) + _668;
  float _1847 = (_1839 * ((_707 * _707) - _669)) + _669;
  float _1848 = (_1839 * ((_708 * _708) - _670)) + _670;
  if (frame_consts.flashback_lut > 0.0f) {
    float _1857 = ((_1846 * 0.3930000066757202f) + (_1847 * 0.7689999938011169f)) + (_1848 * 0.1889999955892563f);
    float _1862 = ((_1846 * 0.3490000069141388f) + (_1847 * 0.6859999895095825f)) + (_1848 * 0.1679999977350235f);
    float _1867 = ((_1846 * 0.2720000147819519f) + (_1847 * 0.5339999794960022f)) + (_1848 * 0.13099999725818634f);
    float _1868 = frame_consts.flashback_lut * 0.800000011920929f;
    float _1873 = ((_1846 * 0.2125999927520752f) + (_1847 * 0.7152000069618225f)) + (_1848 * 0.0722000002861023f);
    _1893 = ((((_1857 - _1846) + ((_1873 - _1857) * 0.6499999761581421f)) * _1868) + _1846);
    _1894 = ((((_1862 - _1847) + ((_1873 - _1862) * 0.6499999761581421f)) * _1868) + _1847);
    _1895 = ((((_1867 - _1848) + ((_1873 - _1867) * 0.6499999761581421f)) * _1868) + _1848);
  } else {
    _1893 = _1846;
    _1894 = _1847;
    _1895 = _1848;
  }
  if (!(frame_consts.invert == 0)) {
    _1904 = (1.0f - _1893);
    _1905 = (1.0f - _1894);
    _1906 = (1.0f - _1895);
  } else {
    _1904 = _1893;
    _1905 = _1894;
    _1906 = _1895;
  }
  SV_Target.x = _1904;
  SV_Target.y = _1905;
  SV_Target.z = _1906;
  if (RENODX_TONE_MAP_TYPE) {
    SV_Target.rgb = renodx::draw::ToneMapPass(untonemapped.rgb, SV_Target.rgb);
  } else {
    SV_Target.rgb = saturate(SV_Target.rgb);
  }
  SV_Target.rgb = renodx::draw::RenderIntermediatePass(SV_Target.rgb);

  SV_Target.w = 1.0f;
  return SV_Target;
}
